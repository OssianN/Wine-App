(this["webpackJsonptest-api"]=this["webpackJsonptest-api"]||[]).push([[0],{22:function(e,t,a){},24:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(1),r=a.n(n),A=a(16),s=a.n(A),o=(a(22),a(3)),u=a.n(o),i=a(5),l=a(2),d=(a(24),a(6)),h=a.n(d),j=function(e){var t="".concat(e.x,":").concat(e.y),a=e.img?e.img:"data:image/png;base64,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",n=function(){var t=Object(i.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setPosition([e.x,e.y]),e.setPickedCard({title:e.title,country:e.country,year:e.year}),e.setShowEditModal({display:"flex"});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(c.jsxs)("figure",{className:"card",id:t,onClick:n,children:[Object(c.jsx)("header",{className:"card-header",children:Object(c.jsx)("p",{className:"card-header__position",children:"".concat(e.x+1,":").concat(e.y+1)})}),Object(c.jsx)("img",{className:"card__img",alt:"wine bottle",src:a}),Object(c.jsx)("h1",{className:"card__title",children:e.title}),Object(c.jsx)("h4",{className:"card__country",children:e.country}),Object(c.jsx)("footer",{className:"card__year",children:e.year})]})},C=function(e){var t=e.searchValue?e.searchArr:e.cardArr,a=function(t,a,r,A){var s=!1;if(null===t||void 0===t||t.forEach((function(t){"".concat(t.shelf,":").concat(t.row)==="".concat(r,":").concat(A)&&(s=!0,a.push(function(t,a,n){return Object(c.jsx)(j,{img:t.img,title:t.title,country:t.country,year:t.year,x:t.shelf,y:t.row,setPosition:e.setPosition,updateOnPost:e.updateOnPost,setUpdateOnPost:e.setUpdateOnPost,setShowEditModal:e.setShowEditModal,showEditModal:e.showEditModal,setPickedCard:e.setPickedCard},"".concat(a,":").concat(n))}(t,r,A)))})),!s)return a.push(function(e,t){return Object(c.jsxs)("div",{className:"add-wine__div",id:"".concat(e,":").concat(t),children:[Object(c.jsx)("div",{className:"card-header card-header--left-margin",children:Object(c.jsx)("p",{className:"card-header__position--dark",children:"".concat(e+1,":").concat(t+1)})}),Object(c.jsx)("button",{onClick:n,children:"+"})]},"".concat(e,":").concat(t))}(r,A))},n=function(t){e.setShowAddModal({display:"flex"}),e.setPosition(t.target.parentElement.id.split(":")),e.setPickedCard({})};return Object(c.jsx)("div",{className:"wineGrid",children:function(e){for(var t=[],c=0;c<15;c++)for(var n=0;n<8;n++)a(e,t,c,n);return t}(t)})},f=function(e){var t=Object(n.useState)("none"),a=Object(l.a)(t,2),r=a[0],A=a[1],s=Object(n.useRef)(null),o=Object(n.useRef)(null),u=Object(n.useRef)(null),i=Object(n.useRef)(null),d=(Object(n.useRef)(null),function(){i.current.checked?(e.setTitleValue(s.current.value),e.setCountryValue(o.current.value),e.setYearValue(u.current.value),e.setCheckedValue(i.current.checked)):(e.setTitleValue(""),e.setCountryValue(""),e.setYearValue(""),e.setCheckedValue(i.current.checked))});return Object(n.useEffect)((function(){s.current.value=e.titleValue,o.current.value=e.countryValue,u.current.value=e.yearValue,i.current.checked=e.checkedValue,function(){var t=e.pickedCard||"",a=t.title,c=t.country,n=t.year;if(!(a||c||n))return!1;s.current.value=a,o.current.value=c,u.current.value=n}(),"Change Wine"===e.buttonName?A("block"):A("none"),s.current.focus()})),Object(c.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),isNaN(u.current.value))alert("The year must be entered as a number.");else{var a={};a.title=t.target.children[2].value,a.country=t.target.children[4].value,a.year=t.target.children[6].value,a.shelf=e.position[0],a.row=e.position[1],e.method(a),e.show({display:"none"}),d()}},className:"wineForm",children:[Object(c.jsx)("button",{type:"button",onClick:function(){d(),e.show({display:"none"})},className:"cancelButton",children:"\u2715"}),Object(c.jsx)("label",{htmlFor:"newWineName",children:"Wine Name"}),Object(c.jsx)("input",{type:"text",id:"newWineName",ref:s}),Object(c.jsx)("label",{htmlFor:"newWineCountry",children:"Country"}),Object(c.jsx)("input",{type:"text",id:"newWineCountry",ref:o}),Object(c.jsx)("label",{htmlFor:"newWineDesc",children:"Year"}),Object(c.jsx)("input",{type:"text",id:"newWineDesc",ref:u}),Object(c.jsx)("button",{type:"submit",id:"editWineButton",children:e.buttonName}),Object(c.jsx)("button",{style:{display:r},className:"removeButton",onClick:e.handleRemove,children:"Delete Wine"}),Object(c.jsxs)("div",{className:"saveFormContainer",children:[Object(c.jsx)("input",{ref:i,defaultChecked:e.checkedValue,type:"checkbox",id:"saveForm"}),Object(c.jsx)("label",{htmlFor:"saveForm",children:"Keep Info"})]})]})},b=function(e){var t=function(){var t=Object(i.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.post("/wines",a);case 3:e.setUpdateOnPost(e.updateOnPost+1),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),alert("A server error occured.",t.t0);case 9:case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}();return Object(c.jsx)("div",{className:"wineModal",style:e.showAddModal,children:Object(c.jsx)(f,{method:t,buttonName:"Add Wine",show:e.setShowAddModal,position:e.position,titleValue:e.titleValue,setTitleValue:e.setTitleValue,countryValue:e.countryValue,setCountryValue:e.setCountryValue,yearValue:e.yearValue,setYearValue:e.setYearValue,checkedValue:e.checkedValue,setCheckedValue:e.setCheckedValue})})},O=function(e){var t=function(){var t=Object(i.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.put("/wines",a);case 3:e.setUpdateOnPost(e.updateOnPost+1),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),alert("A server error occured.",t.t0);case 9:case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),a=function(){var t=Object(i.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Do you want to delete ".concat(e.pickedCard.title))){t.next=10;break}return t.prev=1,t.next=4,h.a.delete("/wines",{data:{shelf:e.position[0],row:e.position[1]}});case 4:e.setUpdateOnPost(e.updateOnPost+1),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),alert("A server error occured.",t.t0);case 10:case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}();return Object(c.jsx)("div",{className:"wineModal",style:e.showEditModal,children:Object(c.jsx)(f,{method:t,buttonName:"Change Wine",show:e.setShowEditModal,position:e.position,pickedCard:e.pickedCard,handleRemove:a,titleValue:e.titleValue,setTitleValue:e.setTitleValue,countryValue:e.countryValue,setCountryValue:e.setCountryValue,yearValue:e.yearValue,setYearValue:e.setYearValue,checkedValue:e.checkedValue,setCheckedValue:e.setCheckedValue})})},w=function(e){var t=e.cardArr,a=e.setSearchArr,r=e.searchValue,A=e.setSearchValue;return Object(n.useEffect)((function(){!function(){var e=null===t||void 0===t?void 0:t.filter((function(e){return Object.values(e).join("").toLowerCase().match(r.toLowerCase())}));a(e)}()}),[r,a,t]),Object(c.jsx)("div",{className:"search-container",children:Object(c.jsx)("input",{type:"text",onChange:function(e){A(e.target.value)},value:r,className:"search",placeholder:"S\xf6k"})})};var p=function(){var e=Object(n.useState)(),t=Object(l.a)(e,2),a=t[0],r=t[1],A=Object(n.useState)(null),s=Object(l.a)(A,2),o=s[0],d=s[1],j=Object(n.useState)(0),f=Object(l.a)(j,2),p=f[0],g=f[1],B=Object(n.useState)({display:"none"}),V=Object(l.a)(B,2),E=V[0],Q=V[1],v=Object(n.useState)({display:"none"}),y=Object(l.a)(v,2),x=y[0],m=y[1],M=Object(n.useState)({}),I=Object(l.a)(M,2),k=I[0],D=I[1],S=Object(n.useState)(""),P=Object(l.a)(S,2),N=P[0],G=P[1],U=Object(n.useState)(""),Y=Object(l.a)(U,2),F=Y[0],W=Y[1],z=Object(n.useState)(""),J=Object(l.a)(z,2),T=J[0],K=J[1],R=Object(n.useState)(!1),H=Object(l.a)(R,2),Z=H[0],X=H[1],L=Object(n.useState)([]),q=Object(l.a)(L,2),_=q[0],$=q[1],ee=Object(n.useState)(""),te=Object(l.a)(ee,2),ae=te[0],ce=te[1],ne=function(){var e=Object(i.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("/wines");case 3:return t=e.sent,e.next=6,t.data;case 6:a=e.sent,r(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0,"getWines error");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){ne()}),[p]),Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("h1",{className:"header",children:"This is the wine we whine about"}),Object(c.jsx)(w,{setSearchArr:$,cardArr:a,searchValue:ae,setSearchValue:ce}),Object(c.jsx)(b,{setCardArr:r,position:o,updateOnPost:p,setUpdateOnPost:g,showAddModal:E,setShowAddModal:Q,titleValue:N,setTitleValue:G,countryValue:F,setCountryValue:W,yearValue:T,setYearValue:K,checkedValue:Z,setCheckedValue:X}),Object(c.jsx)(O,{showEditModal:x,setShowEditModal:m,updateOnPost:p,setUpdateOnPost:g,position:o,pickedCard:k,titleValue:N,setTitleValue:G,countryValue:F,setCountryValue:W,yearValue:T,setYearValue:K,checkedValue:Z,setCheckedValue:X}),Object(c.jsx)(C,{cardArr:a,setCardArr:r,setPosition:d,updateOnPost:p,setUpdateOnPost:g,showAddModal:E,setShowAddModal:Q,showEditModal:x,setShowEditModal:m,setPickedCard:D,searchArr:_,searchValue:ae})]})};s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(p,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.cf962dd7.chunk.js.map