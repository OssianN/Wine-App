(this["webpackJsonptest-api"]=this["webpackJsonptest-api"]||[]).push([[0],{71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(22),c=n.n(r),s=n(2),i=n(7),o=n(16),u=n(20),l=n(9),A=n.n(l),d=function(e){e?A.a.defaults.headers.common.Authorization=e:delete A.a.defaults.headers.common.Authorization},h=n(3),j=n.n(h),b=n(8),p="GET_ERRORS",f="USER_LOADING",O="SET_CURRENT_USER",m="SET_WINE_ARR",v="SET_PICKED_WINE",g="KEEP_FORM",w="UPDATE_WINE_ARR",x="ARCHIVE_WINE",E="DELETE_WINE_ARR",C=function(e){return function(t){localStorage.setItem("jwtToken",e),d(e);var n=Object(u.a)(e);t(y(n))}},y=function(e){return{type:O,payload:e}},S=n(6),N=n(5),B=function(e){return{type:v,payload:e}},M=n(0),_=function(e){var t,n,a=e.card,r=e.setShowEditModal,c=e.cardWidth,i=Object(s.b)(),o=a.img?a.img:"data:image/png;base64,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",u=a._id,l=a.shelf,A=a.column,d=a.title,h=a.country,p=a.comment,f=a.year,O=a.price,m=a.rating,v=a.vivinoUrl,g=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(B(a)),r({display:"flex"});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(e){return e||"-"};return Object(M.jsxs)("figure",{className:"card",id:u,style:{width:"calc(".concat(c,"% - 20px)")},children:[Object(M.jsxs)("header",{className:"card-header",children:[Object(M.jsx)("p",{className:"card-header__position",children:"".concat(l+1,":").concat(A+1)}),Object(M.jsx)("button",{className:"edit-card__button",onClick:g,children:"\u22ee"})]}),Object(M.jsx)("img",{className:"card__img",alt:"wine bottle",src:o}),Object(M.jsxs)("div",{className:"card__text-container",children:[Object(M.jsx)("h1",{className:"card__title",children:d}),Object(M.jsx)("p",{className:"card__country-paragraph",children:w(h)}),Object(M.jsx)("p",{className:"card__comment",children:(n=p,(null===n||void 0===n?void 0:n.length)>12?"".concat(n.slice(0,12),"..."):n)}),Object(M.jsxs)("footer",{className:"card__footer",children:[Object(M.jsx)("span",{className:"card__separaion-span"}),Object(M.jsx)("p",{className:"card__info-paragraph",children:w(f)}),Object(M.jsxs)("p",{className:"card__info-paragraph",children:[w(O)," kr"]}),Object(M.jsxs)("p",{className:"card__info-paragraph",children:[w(m),"\u2605"]}),(t=v,t?Object(M.jsx)("a",{target:"_blank",rel:"noreferrer",href:v,className:"card__info-paragraph card__vivino-url",children:"vivino \u203a"}):Object(M.jsx)("a",{className:"card__info-paragraph card__vivino-url",children:" - "}))]})]})]},u)},Q=function(e){var t=Object(s.b)(),n=Object(s.c)((function(e){return e.wineArr})).filter((function(e){return!e.archived})),a=Object(s.c)((function(e){return e.pickedWine})),r=Object(s.c)((function(e){return e.auth})).user,c=e.searchValue?e.searchArr:n,i=100/r.columns,o=function(t,n,a,r){var c=!1;if(null===t||void 0===t||t.forEach((function(t){"".concat(t.shelf,":").concat(t.column)==="".concat(a,":").concat(r)&&(c=!0,n.push(function(t){return Object(M.jsx)(_,{card:t,cardWidth:i,setShowEditModal:e.setShowEditModal},t._id)}(t)))})),!c&&!e.searchValue)return n.push(function(e,t){return Object(M.jsxs)("div",{className:"add-wine__div",id:"".concat(e,":").concat(t),style:{width:"calc(".concat(i,"% - 20px)")},children:[Object(M.jsx)("div",{className:"card-header",children:Object(M.jsx)("p",{className:"card-header__position--dark",children:"".concat(e+1,":").concat(t+1)})}),Object(M.jsx)("button",{onClick:u,children:"+"})]},"".concat(e,":").concat(t))}(a,r))},u=function(n){e.setShowAddModal({display:"flex"}),t(B(Object(N.a)(Object(N.a)({},a),function(e){var t=e.split(":");return{shelf:parseInt(t[0]),column:parseInt(t[1])}}(n.target.parentElement.id))))};return Object(M.jsx)("div",{className:"wine-grid",children:function(e){for(var t=[],n=0;n<r.shelves;n++){for(var a=[],c=0;c<r.columns;c++)o(e,a,n,c);t.push(a)}return t.map((function(e,t){return Object(M.jsx)("div",{className:"wine-row",children:e},t)}))}(c)})},I=n(30),k=n(15),z=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.put("/wines",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert("A server error occured.",e.t0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.delete("/wines",{data:t});case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert("A server error occured.",e.t0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(e){return{type:m,payload:e}},F=function(e){return{type:w,payload:e}},V=function(e){var t=e.areYouSure,n=e.handleAreYouSure,a=e.handleDelete;return Object(M.jsx)(M.Fragment,{children:t?Object(M.jsxs)("div",{className:"are-you-sure__container",children:[Object(M.jsx)("p",{className:"confirm-archive__p",children:"Are you sure you want to archive this wine?"}),Object(M.jsx)("button",{type:"button",className:"btn--enforced btn-archive--yes",onClick:a,children:"yes"}),Object(M.jsx)("button",{type:"button",className:"flat-button--border btn-archive--no",onClick:n,children:"no"})]}):null})},U=function(e){var t=e.areYouSure,n=e.pickedWine,a=e.handleArchive;return t?null:Object(M.jsx)("button",{type:"button",onClick:a,className:"btn--enforced btn--form-archive",style:{display:t?"none":"block"},children:n.archived?"Unarchive":"Archive"})},G=function(e){var t=e.areYouSure,n=e.handleAreYouSure;return Object(M.jsx)("button",{type:"button",onClick:n,className:"btn--enforced btn--form-archive",style:{display:t?"none":"block"},children:"Delete"})},R=function(e){var t=e.areYouSure,n=e.setAreYouSure,a=e.submitButtonName,r=e.setShowEditModal,c=e.saveOrClearForm,i=Object(s.b)(),o=Object(s.c)((function(e){return e})).pickedWine,u=function(){return n(!t)},l=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t=Object(N.a)(Object(N.a)({},o),{},{archived:!o.archived}),z(t),i({type:x,payload:t}),r({display:"none"}),c()}catch(n){alert("A server error occured.",n),console.error(n)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{D(o),i((t=o._id,{type:E,payload:t})),r({display:"none"}),u(),c()}catch(n){alert("A server error occured.",n),console.error(n)}case 1:case"end":return e.stop()}var t}),e)})));return function(){return e.apply(this,arguments)}}();return"Add Wine"===a?Object(M.jsx)("button",{type:"submit",className:"btn--enforced btn--form-submit",style:{display:t?"none":"block"},children:a}):Object(M.jsxs)(M.Fragment,{children:[o.archived?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(G,{areYouSure:t,handleAreYouSure:u}),Object(M.jsx)(U,{pickedWine:o,handleArchive:l,areYouSure:t,handleAreYouSure:u})]}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("button",{type:"submit",className:"btn--enforced btn--form-submit",style:{display:t?"none":"block"},children:a}),Object(M.jsx)(U,{pickedWine:o,handleArchive:l,areYouSure:t,handleAreYouSure:u})]}),Object(M.jsx)(V,{pickedWine:o,areYouSure:t,handleAreYouSure:u,handleArchive:l,handleDelete:A})]})},T=function(e){var t=Object(s.b)(),n=Object(a.useRef)(null),r=Object(a.useRef)(null),c=Object(s.c)((function(e){return e.pickedWine})),i=Object(s.c)((function(e){return e.keepForm})),o=c.column,u=c.shelf,l=Object(a.useState)(!1),A=Object(S.a)(l,2),d=A[0],h=A[1],j={title:"",year:"",price:"",comment:""},b=Object(a.useState)(j),p=Object(S.a)(b,2),f=p[0],O=p[1],m=function(){i||(O(j),t(B(j)))},v=function(e){var t=e.target.name;O(Object(N.a)(Object(N.a)({},f),{},Object(k.a)({},t,e.target.value)))};return Object(a.useEffect)((function(){return O(Object(N.a)({},c))}),[c]),Object(a.useEffect)((function(){n.current.focus()}),[]),Object(M.jsxs)("form",{onSubmit:function(t){t.preventDefault();var a=f.title?isNaN(f.year)?{isValid:!1,input:r}:{isValid:!0}:{isValid:!1,input:n};if(!a.isValid)return a.input.current.focus();e.method(Object(N.a)(Object(N.a)(Object(N.a)({},c),f),{},{column:o,shelf:u})),e.show({display:"none"}),h(!1),m()},className:"wineForm",children:[Object(M.jsx)("button",{type:"button",onClick:function(){m(),h(!1),e.show({display:"none"})},className:"cancelButton",children:"\u2715"}),Object(M.jsx)("input",{ref:n,value:f.title||"",onChange:v,name:"title",type:"text",placeholder:"Name"}),Object(M.jsx)("input",{ref:r,value:f.year||"",onChange:v,name:"year",type:"text",placeholder:"Year"}),Object(M.jsx)("input",{value:f.price||"",onChange:v,name:"price",type:"text",placeholder:"What did you pay?"}),Object(M.jsx)("textarea",{value:f.comment||"",onChange:v,name:"comment",placeholder:"comment"}),Object(M.jsx)(R,{submitButtonName:e.buttonName,areYouSure:d,setAreYouSure:h,setShowEditModal:e.setShowEditModal,saveOrClearForm:m}),Object(M.jsxs)("div",{className:"save-form",children:[Object(M.jsx)("input",{value:i,onChange:function(){t({type:g,payload:!i})},type:"checkbox",className:"save-form__checkbox ".concat(i)}),Object(M.jsx)("label",{htmlFor:"saveForm",children:"keep form info"})]})]})},W=function(e){var t=Object(s.b)(),n=Object(s.c)((function(e){return e.wineArr})),a=Object(s.c)((function(e){return e.pickedWine})),r=a.shelf,c=a.column,i=Object(s.c)((function(e){return e.auth})).user,o=function(){var e=Object(b.a)(j.a.mark((function e(a){var s,o,u;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(Y([].concat(Object(I.a)(n),[{shelf:r,column:c,country:"loading..."}]))),e.next=4,A.a.post("/wines",a);case 4:return s=e.sent,t(Y([].concat(Object(I.a)(n),[s.data]))),e.next=8,A.a.post("/users/addWine",{_id:s.data._id,email:i.email});case 8:o=e.sent,u=o.data.token,t(C(u)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),alert("A server error occured:",e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(M.jsx)("div",{className:"wineModal",style:e.showAddModal,children:Object(M.jsx)(T,{method:o,buttonName:"Add Wine",show:e.setShowAddModal})})},P=function(e){var t=Object(s.b)(),n=function(){var e=Object(b.a)(j.a.mark((function e(n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(n);case 2:a=e.sent,t(F(a.data));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(M.jsx)("div",{className:"wineModal",style:e.showEditModal,children:Object(M.jsx)(T,{method:n,buttonName:"Change Wine",show:e.setShowEditModal,setShowEditModal:e.setShowEditModal})})},J=function(e){var t=e.setSearchArr,n=e.searchValue,r=e.setSearchValue,c=e.showArchived,i=Object(s.c)((function(e){return e.wineArr})),o=c?i.filter((function(e){return e.archived})):i.filter((function(e){return!e.archived})),u=function(e){return"title"===e[0]||"year"===e[0]||"country"===e[0]||"price"===e[0]||"rating"===e[0]?e[1]:""},l=function(e){var t;return parseInt(null===(t=e.match(/[0-9]+/))||void 0===t?void 0:t[0])};return Object(a.useEffect)((function(){!function(){var e=null===o||void 0===o?void 0:o.filter((function(e){return Object.entries(e).map(u).join("").toLowerCase().match(n.toLowerCase())}));t(e)}()}),[n,t,i]),Object(a.useEffect)((function(){!function(){if(null===n||void 0===n?void 0:n.match(/rating/i)){var e=null===o||void 0===o?void 0:o.filter((function(e){return parseInt(e.rating)>=l(n)}));t(e)}}()}),[n,t,i]),Object(a.useEffect)((function(){!function(){if(null===n||void 0===n?void 0:n.match(/kr/i)){var e=null===o||void 0===o?void 0:o.filter((function(e){return parseInt(e.price)<=l(n)}));t(e)}}()}),[n,t,i]),Object(M.jsx)(M.Fragment,{children:Object(M.jsx)("input",{type:"text",onChange:function(e){r(e.target.value)},value:n,className:"search",placeholder:"search"})})},K=function(){var e=Object(s.b)(),t=Object(i.e)();return Object(M.jsx)("div",{className:"logout-container",children:Object(M.jsx)("button",{className:"logout-button",onClick:function(){e(y({})),localStorage.removeItem("jwtToken"),t.push("/")},children:Object(M.jsx)("p",{children:"log out"})})})},L=function(e){var t=e.setShowSettings,n=Object(s.c)((function(e){return e.auth})).user,r=Object(a.useState)({columns:n.columns,shelves:n.shelves}),c=Object(S.a)(r,2),i=c[0],o=c[1],u=Object(a.useState)(!1),l=Object(S.a)(u,2),d=l[0],h=l[1],p=Object(s.b)(),f=function(e){var t=e.target.name;o(Object(N.a)(Object(N.a)({},i),{},Object(k.a)({},t,e.target.value)))},O=function(){var e=Object(b.a)(j.a.mark((function e(a){var r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),i.columns&&i.shelves){e.next=5;break}h(!0),e.next=12;break;case 5:return h(!1),e.next=8,A.a.post("/users/addStorage",{columns:i.columns,shelves:i.shelves,email:n.email});case 8:r=e.sent,c=r.data.token,t(!1),p(C(c));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(M.jsx)("div",{className:"initial-setup__container",children:Object(M.jsxs)("form",{className:"initial-setup__form",onSubmit:O,children:[d?Object(M.jsx)("p",{children:"columns and shelves need to be grater than zero"}):"",Object(M.jsx)("label",{children:"How many columns do you have?"}),Object(M.jsx)("input",{name:"columns",className:"initial-setup__input",type:"number",placeholder:n.columns,value:i.column,onChange:f}),Object(M.jsx)("label",{children:"How many shelves do you have?"}),Object(M.jsx)("input",{name:"shelves",className:"initial-setup__input",type:"number",placeholder:n.shelves,value:i.shelf,onChange:f}),Object(M.jsx)("p",{className:"initial-setup__p",children:"You can change this whenever you want."}),Object(M.jsx)("button",{type:"submit",className:"initial-setup__button--confirm btn--enforced",children:"confirm"})]})})},H=function(e){var t=e.showSettings,n=e.setShowSettings,r=(e.setShowArchived,Object(a.useState)(0)),c=Object(S.a)(r,2),i=c[0],o=c[1],u=Object(s.c)((function(e){return e.wineArr})),l=Object(s.c)((function(e){return e.auth})).user,A=t?null:"-400px",d=u.filter((function(e){return!e.archived})),h=function(e){return!e.price||isNaN(e.price)?0:parseInt(e.price)},j=function(e,t){return e+parseInt(t)};return Object(a.useEffect)((function(){var e=d.map(h).reduce(j,0);o(e)}),[u]),Object(M.jsxs)("div",{className:"settings-container",style:{right:A},children:[Object(M.jsx)("h2",{className:"settings__name",children:l.name}),Object(M.jsx)(K,{}),Object(M.jsxs)("div",{className:"settings__price-container",children:[Object(M.jsxs)("h4",{className:"settings__price-header",children:["Total price for this storage:"," "]}),Object(M.jsxs)("p",{className:"settings__price-p",children:[i," kr"]})]}),Object(M.jsx)(L,{setShowSettings:n})]})},Z=(n(71),function(e){var t=e.showSettings,n=e.setShowSettings,r=Object(a.useState)("hamburger--closed"),c=Object(S.a)(r,2),s=c[0],i=c[1];return Object(a.useEffect)((function(){i(t?"hamburger--open":"hamburger--closed")}),[t]),Object(M.jsx)(M.Fragment,{children:Object(M.jsx)("button",{className:"hamburger",onClick:function(){n(!t)},children:Object(M.jsxs)("div",{id:"nav-icon2",className:"".concat(s),children:[Object(M.jsx)("span",{}),Object(M.jsx)("span",{}),Object(M.jsx)("span",{}),Object(M.jsx)("span",{}),Object(M.jsx)("span",{}),Object(M.jsx)("span",{})]})})})}),X=(n(72),function(e){var t=e.setShowEditModal,n=e.searchValue,a=e.searchArr,r=Object(s.c)((function(e){return e.wineArr})),c=n?a:r.filter((function(e){return e.archived}));return Object(M.jsx)("div",{className:"archived__container",children:c.sort((function(e,t){return e._id<t._id?1:e._id>t._id?-1:0})).map((function(e,n){return Object(M.jsx)(_,{card:e,setShowEditModal:t},n)}))})}),q="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABABAMAAABYR2ztAAAAElBMVEX///8zMzMzMzMzMzMzMzMzMzPrq7PdAAAABnRSTlMAgP/QUBArwMnyAAAASElEQVR4AWMYXGAUCClhBYpwBUo4AFR6VMGgAHidOVQVmEA4zjgVOEA4LDgVQDmshBQwkG+FCcQGZ0rDYVTBqAIhrAUxAowCAMLyao+cLODEAAAAAElFTkSuQmCC",$="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAMFBMVEX///8zMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzOGvfDjAAAAEHRSTlMAgP/gsHAgwEAw8GAQkNCgS1NThAAAAJpJREFUeNrt07sOwyAMhWFzIFxsEt7/bbtEqqJiZDq0i7/9/PJicm4uYCEYAljygAc88LtAxEI0BBIWkiFwYOEwBDIWMhkUqApZVKgqmRT9AJvGmOJGRoIpITNR9naVP+6vtKWf/JifnXZ1SXyvk3T6zvsDPeABD/wvkCXhliTTphYuPFyhbaxHxEQc1gZDwWQDFdkMKAY5N/UCWpMJZ+amwLkAAAAASUVORK5CYII=",ee=function(e){var t=e.setShowArchived,n=Object(a.useRef)(null);return Object(M.jsxs)("button",{className:"btn archive__button",onClick:function(){t((function(e){return e?n.current.classList.remove("archive__button--archived"):n.current.classList.add("archive__button--archived"),!e}))},ref:n,children:[Object(M.jsx)("img",{className:"archive__button-img archive__button-img--wine",src:$}),Object(M.jsx)("img",{className:"archive__button-img archive__button-img--archive",src:q})]})},te=(n(73),n(74),function(){var e=Object(a.useState)(0),t=Object(S.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)({display:"none"}),o=Object(S.a)(c,2),u=o[0],l=o[1],d=Object(a.useState)({display:"none"}),h=Object(S.a)(d,2),p=h[0],f=h[1],O=Object(a.useState)([]),m=Object(S.a)(O,2),v=m[0],g=m[1],w=Object(a.useState)(""),x=Object(S.a)(w,2),E=x[0],C=x[1],y=Object(a.useState)(!1),N=Object(S.a)(y,2),B=N[0],_=N[1],I=Object(a.useState)(!1),k=Object(S.a)(I,2),z=k[0],D=k[1],F=Object(s.c)((function(e){return e.auth})),V=F.isAuthenticated,U=F.user,G=Object(s.b)(),R=Object(i.e)();return Object(a.useEffect)((function(){(function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.post("/wines/getUserWines",{wineList:U.wineList});case 3:t=e.sent,n=t.data,G(Y(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0,"getWines error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[G,U.wineList]),Object(a.useEffect)((function(){V||R.push("/login")})),U.columns&&U.shelves?Object(M.jsxs)("div",{className:"dashboard",children:[Object(M.jsxs)("header",{className:"main__header",children:[Object(M.jsx)(J,{setSearchArr:g,searchValue:E,setSearchValue:C,showArchived:z}),Object(M.jsx)(ee,{setShowArchived:D}),Object(M.jsx)(Z,{showSettings:B,setShowSettings:_}),Object(M.jsx)(H,{showSettings:B,setShowSettings:_,setShowArchived:D})]}),Object(M.jsx)("h1",{className:"header",children:"This is the wine we whine about"}),Object(M.jsx)(W,{updateOnPost:n,setUpdateOnPost:r,showAddModal:u,setShowAddModal:l}),Object(M.jsx)(P,{showEditModal:p,setShowEditModal:f,updateOnPost:n,setUpdateOnPost:r}),z?Object(M.jsx)(X,{setShowEditModal:f,searchArr:v,searchValue:E}):Object(M.jsx)(Q,{updateOnPost:n,setUpdateOnPost:r,showAddModal:u,setShowAddModal:l,showEditModal:p,setShowEditModal:f,searchArr:v,searchValue:E})]}):Object(M.jsx)(L,{setShowSettings:_})}),ne=function(){var e=Object(s.c)((function(e){return e.auth.isAuthenticated})),t=Object(i.e)();return Object(a.useEffect)((function(){e&&t.push("/dashboard")})),Object(M.jsxs)("div",{className:"landing-page",children:[Object(M.jsx)("h1",{className:"header",children:"This is the wine we whine about"}),Object(M.jsxs)("div",{className:"landing-page-link-container",children:[Object(M.jsx)(o.b,{to:"/register",className:" landing-page__link landing-page__link--colored",children:"Register"}),Object(M.jsx)(o.b,{to:"/login",className:"landing-page__link",children:"Log in"})]})]})},ae=function(e){var t=Object(a.useState)({name:"",email:"",password:"",password2:""}),n=Object(S.a)(t,2),r=n[0],c=n[1],o=Object(s.c)((function(e){return e.auth.isAuthenticated})),u=Object(s.c)((function(e){return e.errorState})),l=Object(i.e)(),d=Object(s.b)(),h=function(e){var t=e.target.name;c(Object(N.a)(Object(N.a)({},r),{},Object(k.a)({},t,e.target.value)))};return Object(a.useEffect)((function(){o&&l.push("/dashboard")})),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("h1",{className:"header",children:"This is the wine we whine about"}),Object(M.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d(function(e,t){return function(){var n=Object(b.a)(j.a.mark((function n(a){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,A.a.post("/users/register",e);case 3:t.push("/login"),a({type:p,payload:{}}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),a({type:p,payload:n.t0.response.data});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(r,l))},className:"auth-form",children:[Object(M.jsx)("input",{className:"auth-form__input",onChange:h,name:"name",value:r.name,placeholder:"name"}),u.email?Object(M.jsx)("p",{className:"form__error-p",children:u.email}):"",Object(M.jsx)("input",{className:"auth-form__input",onChange:h,name:"email",value:r.email,placeholder:"email"}),u.password?Object(M.jsx)("p",{className:"form__error-p",children:u.password}):"",Object(M.jsx)("input",{className:"auth-form__input",onChange:h,name:"password",value:r.password,placeholder:"password",type:"password"}),u.password2?Object(M.jsx)("p",{className:"form__error-p",children:u.password2}):"",Object(M.jsx)("input",{className:"auth-form__input",onChange:h,name:"password2",value:r.password2,placeholder:"repeat password",type:"password"}),Object(M.jsx)("button",{className:"auth-form__submit-button btn--enforced",type:"submit",children:"register"})]})]})},re=(n(75),function(e){var t=Object(a.useState)({email:"",password:""}),n=Object(S.a)(t,2),r=n[0],c=n[1],o=Object(i.e)(),l=Object(s.c)((function(e){return e.auth.isAuthenticated})),h=Object(s.c)((function(e){return e.errorState})),f=Object(s.b)();Object(a.useEffect)((function(){l&&o.push("/dashboard")}));var O=function(e){var t=e.target.name;c(Object(N.a)(Object(N.a)({},r),{},Object(k.a)({},t,e.target.value)))};return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("h1",{className:"header",children:"This is the wine we whine about"}),Object(M.jsxs)("form",{onSubmit:function(t){var n;t.preventDefault(),f((n=r,function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A.a.post("/users/login",n).then((function(e){var n=e.data.token;localStorage.setItem("jwtToken",n),d(n);var a=Object(u.a)(n);t(y(a))})).catch((function(e){return t({type:p,payload:e.response.data})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),e.history.push("/dashboard")},className:"auth-form",children:[h.email?Object(M.jsx)("p",{className:"form__error-p",children:h.email}):Object(M.jsx)("p",{}),Object(M.jsx)("input",{className:"auth-form__input",onChange:O,name:"email",type:"text",value:r.email,placeholder:"email"}),h.password?Object(M.jsx)("p",{className:"form__error-p",children:h.password}):Object(M.jsx)("p",{}),Object(M.jsx)("input",{className:"auth-form__input",onChange:O,name:"password",value:r.password,placeholder:"password",type:"password"}),Object(M.jsx)("button",{className:"auth-form__submit-button btn--enforced",type:"submit",children:"log in"})]})]})}),ce=function(){var e=Object(s.b)(),t=Object(i.e)();if(localStorage.jwtToken){var n=localStorage.jwtToken;d(n);var a=Object(u.a)(n);e(y(a));var r=Date.now()/1e3;a.exp<r&&(e((function(e){localStorage.removeItem("jwtToken"),d(!1),e(y({}))})),t.push("/login"))}return Object(M.jsx)(o.a,{children:Object(M.jsxs)("div",{className:"App",children:[Object(M.jsx)(i.a,{exact:!0,path:"/",component:ne}),Object(M.jsx)(i.a,{path:"/register",component:ae}),Object(M.jsx)(i.a,{path:"/login",component:re}),Object(M.jsx)(i.a,{path:"/dashboard",component:te})]})})},se=n(17),ie=n(41),oe=n(76),ue={isAuthenticated:!1,user:{},loading:!1},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(N.a)(Object(N.a)({},e),{},{isAuthenticated:!oe(t.payload),user:t.payload});case f:return Object(N.a)(Object(N.a)({},e),{},{loading:!0});default:return e}},Ae={},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return t.payload;default:return e}},he=function(e,t){return e.map((function(e){return e._id!==t._id?e:t}))},je=function(e,t){return e.filter((function(e){return e._id!==t}))},be=[],pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return t.payload;case w:case x:return he(e,t.payload);case E:return je(e,t.payload);default:return e}},fe={},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return t.payload;default:return e}},me=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return t.payload;default:return e}},ve=Object(se.c)({auth:le,errorState:de,wineArr:pe,pickedWine:Oe,keepForm:me}),ge=[ie.a],we=se.d.apply(void 0,[se.a.apply(void 0,ge)].concat([])),xe=Object(se.e)(ve,{},we);n(77);c.a.render(Object(M.jsx)(s.a,{store:xe,children:Object(M.jsx)(ce,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.5fc67490.chunk.js.map