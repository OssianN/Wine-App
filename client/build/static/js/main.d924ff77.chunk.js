(this["webpackJsonptest-api"]=this["webpackJsonptest-api"]||[]).push([[0],{49:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(0),r=a(19),s=a.n(r),o=a(2),i=(a(49),a(12)),u=a(5),l=a(17),d=a(6),A=a.n(d),h=function(e){e?A.a.defaults.headers.common.Authorization=e:delete A.a.defaults.headers.common.Authorization},j=a(4),b=a.n(j),p=a(7),f="GET_ERRORS",O="USER_LOADING",m="SET_CURRENT_USER",g="SET_WINE_ARR",w="UPDATE_WINE_ARR",v="DELETE_WINE_ARR",x=function(e){return function(t){localStorage.setItem("jwtToken",e),h(e);var a=Object(l.a)(e);t(C(a))}},C=function(e){return{type:m,payload:e}},y=a(3),E=function(e){var t=e._id,a=e.img?e.img:"data:image/png;base64,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",c=function(){var a=Object(p.a)(b.a.mark((function a(n){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.setPosition([e.x,e.y]),e.setPickedCard({title:e.title,country:e.country,year:e.year,_id:t}),e.setShowEditModal({display:"flex"});case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(n.jsxs)("figure",{className:"card",id:t,onClick:c,style:{width:"calc(".concat(e.cardWidth,"% - 30px)")},children:[Object(n.jsx)("header",{className:"card-header",children:Object(n.jsx)("p",{className:"card-header__position",children:"".concat(e.x+1,":").concat(e.y+1)})}),Object(n.jsx)("img",{className:"card__img",alt:"wine bottle",src:a}),Object(n.jsx)("h1",{className:"card__title",children:e.title}),Object(n.jsx)("h4",{className:"card__country",children:e.country}),Object(n.jsx)("p",{children:e.rating}),Object(n.jsx)("footer",{className:"card__year",children:e.year})]})},B=function(e){var t=Object(o.c)((function(e){return e.wineArr})),a=Object(o.c)((function(e){return e.auth})).user,c=e.searchValue?e.searchArr:t,r=100/a.columns,s=function(t,a,c,s){var o=!1;if(null===t||void 0===t||t.forEach((function(t){"".concat(t.shelf,":").concat(t.row)==="".concat(c,":").concat(s)&&(o=!0,a.push(function(t,a,c){return Object(n.jsx)(E,{img:t.img,rating:t.rating,title:t.title,country:t.country,year:t.year,x:t.shelf,y:t.row,_id:t._id,cardWidth:r,setPosition:e.setPosition,updateOnPost:e.updateOnPost,setUpdateOnPost:e.setUpdateOnPost,setShowEditModal:e.setShowEditModal,showEditModal:e.showEditModal,setPickedCard:e.setPickedCard},"".concat(a,":").concat(c))}(t,c,s)))})),!o)return a.push(function(e,t){return Object(n.jsxs)("div",{className:"add-wine__div",id:"".concat(e,":").concat(t),style:{width:"calc(".concat(r,"% - 10px)")},children:[Object(n.jsx)("div",{className:"card-header card-header--left-margin",children:Object(n.jsx)("p",{className:"card-header__position--dark",children:"".concat(e+1,":").concat(t+1)})}),Object(n.jsx)("button",{onClick:i,children:"+"})]},"".concat(e,":").concat(t))}(c,s))},i=function(t){e.setShowAddModal({display:"flex"}),e.setPosition(t.target.parentElement.id.split(":")),e.setPickedCard({})};return Object(n.jsx)("div",{className:"wineGrid",children:function(e){for(var t=[],c=0;c<a.shelves;c++){for(var r=[],o=0;o<a.columns;o++)s(e,r,c,o);t.push(r)}return t.map((function(e,t){return Object(n.jsx)("div",{className:"wine-row",children:e},t)}))}(c)})},V=a(39),N=function(e){var t=Object(c.useState)("none"),a=Object(y.a)(t,2),r=a[0],s=a[1],o=e.pickedCard||"",i=o.title,u=o.country,l=o.year,d=o._id,A=Object(c.useRef)(null),h=Object(c.useRef)(null),j=Object(c.useRef)(null),b=Object(c.useRef)(null),p=function(){b.current.checked?(e.setTitleValue(A.current.value),e.setCountryValue(h.current.value),e.setYearValue(j.current.value),e.setCheckedValue(b.current.checked)):(e.setTitleValue(""),e.setCountryValue(""),e.setYearValue(""),e.setCheckedValue(b.current.checked))};return Object(c.useEffect)((function(){A.current.value=e.titleValue,h.current.value=e.countryValue,j.current.value=e.yearValue,b.current.checked=e.checkedValue,function(){if(!(i||u||l))return!1;A.current.value=i,h.current.value=u,j.current.value=l}(),"Change Wine"===e.buttonName?s("block"):s("none"),A.current.focus()})),Object(n.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),isNaN(j.current.value))alert("The year must be entered as a number.");else{var a={};a.title=t.target.children[2].value,a.country=t.target.children[4].value,a.year=t.target.children[6].value,a.shelf=e.position[0],a.row=e.position[1],a._id=d,e.method(a),e.show({display:"none"}),p()}},className:"wineForm",children:[Object(n.jsx)("button",{type:"button",onClick:function(){p(),e.show({display:"none"})},className:"cancelButton",children:"\u2715"}),Object(n.jsx)("label",{htmlFor:"newWineName",children:"Wine Name"}),Object(n.jsx)("input",{type:"text",className:"newWineName",ref:A}),Object(n.jsx)("label",{htmlFor:"newWineCountry",children:"Country"}),Object(n.jsx)("input",{type:"text",className:"newWineCountry",ref:h}),Object(n.jsx)("label",{htmlFor:"newWineDesc",children:"Year"}),Object(n.jsx)("input",{type:"text",className:"newWineDesc",ref:j}),Object(n.jsx)("button",{type:"submit",className:"btn--enforced btn--form-submit",children:e.buttonName}),Object(n.jsx)("button",{style:{display:r},type:"button",className:"btn--enforced btn--form-delete",onClick:e.handleRemove,children:"Delete Wine"}),Object(n.jsxs)("div",{className:"saveFormContainer",children:[Object(n.jsx)("input",{ref:b,defaultChecked:e.checkedValue,type:"checkbox",className:"saveForm"}),Object(n.jsx)("label",{htmlFor:"saveForm",children:"Keep Info"})]})]})},S=function(e){return{type:g,payload:e}},Q=function(e){return{type:w,payload:e}},k=function(e){var t=Object(o.b)(),a=Object(o.c)((function(e){return e.wineArr})),c=Object(o.c)((function(e){return e.auth})).user,r=function(){var e=Object(p.a)(b.a.mark((function e(n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.post("/wines",n);case 3:return r=e.sent,t(S([].concat(Object(V.a)(a),[r.data]))),e.next=7,A.a.post("/users/addWine",{_id:r.data._id,email:c.email});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert("A server error occured:",e.t0.message);case 12:case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"wineModal",style:e.showAddModal,children:Object(n.jsx)(N,{method:r,buttonName:"Add Wine",show:e.setShowAddModal,position:e.position,titleValue:e.titleValue,setTitleValue:e.setTitleValue,countryValue:e.countryValue,setCountryValue:e.setCountryValue,yearValue:e.yearValue,setYearValue:e.setYearValue,checkedValue:e.checkedValue,setCheckedValue:e.setCheckedValue})})},I=function(e){var t=Object(o.b)(),a=Object(o.c)((function(e){return e.auth})).user,c=e.pickedCard._id,r=function(){var e=Object(p.a)(b.a.mark((function e(n){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.put("/wines",n);case 3:return c=e.sent,t(Q(c.data)),e.next=7,A.a.post("/users/addWine",{_id:c.data._id,email:a.email});case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),alert("A server error occured.",e.t0),console.error(e.t0);case 13:case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),s=function(){var n=Object(p.a)(b.a.mark((function n(r){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!window.confirm("Do you want to delete ".concat(e.pickedCard.title))){n.next=14;break}return n.prev=1,t({type:v,payload:c}),e.setShowEditModal({display:"none"}),n.next=6,A.a.delete("/wines",{data:{_id:c}});case 6:return n.next=8,A.a.delete("/users/deleteWine",{data:{email:a.email,_id:c}});case 8:n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),alert("A server error occured.",n.t0),console.error(n.t0);case 14:case 15:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"wineModal",style:e.showEditModal,children:Object(n.jsx)(N,{method:r,buttonName:"Change Wine",show:e.setShowEditModal,position:e.position,pickedCard:e.pickedCard,handleRemove:s,titleValue:e.titleValue,setTitleValue:e.setTitleValue,countryValue:e.countryValue,setCountryValue:e.setCountryValue,yearValue:e.yearValue,setYearValue:e.setYearValue,checkedValue:e.checkedValue,setCheckedValue:e.setCheckedValue})})},D=function(e){var t=e.setSearchArr,a=e.searchValue,r=e.setSearchValue,s=Object(o.c)((function(e){return e.wineArr}));return Object(c.useEffect)((function(){!function(){var e=null===s||void 0===s?void 0:s.filter((function(e){return Object.values(e).join("").toLowerCase().match(a.toLowerCase())}));t(e)}()}),[a,t,s]),Object(n.jsx)("div",{className:"search-container",children:Object(n.jsx)("input",{type:"text",onChange:function(e){r(e.target.value)},value:a,className:"search",placeholder:"search"})})},M=function(){var e=Object(o.b)(),t=Object(u.e)();return Object(n.jsx)("div",{className:"logout-container",children:Object(n.jsx)("button",{className:"logout-button",onClick:function(){e(C({})),localStorage.removeItem("jwtToken"),t.push("/")},children:"log out"})})},P=a(13),T=a(8),G=function(){var e=Object(o.c)((function(e){return e.auth})).user,t=Object(c.useState)({columns:e.columns,shelves:e.shelves}),a=Object(y.a)(t,2),r=a[0],s=a[1],i=Object(c.useState)(!1),u=Object(y.a)(i,2),l=u[0],d=u[1],h=Object(o.b)(),j=function(e){var t=e.target.name;s(Object(T.a)(Object(T.a)({},r),{},Object(P.a)({},t,e.target.value)))},f=function(){var t=Object(p.a)(b.a.mark((function t(a){var n,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),r.columns&&r.shelves){t.next=5;break}d(!0),t.next=11;break;case 5:return d(!1),t.next=8,A.a.post("/users/addStorage",{columns:r.columns,shelves:r.shelves,email:e.email});case 8:n=t.sent,c=n.data.token,h(x(c));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"initial-setup-container",children:Object(n.jsxs)("form",{className:"initial-setup__form",onSubmit:f,children:[l?Object(n.jsx)("p",{children:"columns and shelves need to be grater than zero"}):"",Object(n.jsx)("label",{children:"How many columns do you have?"}),Object(n.jsx)("input",{name:"columns",className:"settings-form__input",type:"number",placeholder:e.columns,value:r.column,onChange:j}),Object(n.jsx)("label",{children:"How many shelves do you have?"}),Object(n.jsx)("input",{name:"shelves",className:"settings-form__input",type:"number",placeholder:e.shelves,value:r.shelf,onChange:j}),Object(n.jsx)("button",{type:"submit",className:"settings__button--confirm btn--enforced",children:"confirm"}),Object(n.jsx)("p",{children:"You can change this whenever you want."})]})})},U=(a(69),function(e){var t=e.showSettings?null:"-400px",a=Object(o.c)((function(e){return e.auth})).user;return Object(n.jsxs)("div",{className:"settings-container",style:{right:t},children:[Object(n.jsx)("p",{children:a.name}),Object(n.jsx)(M,{}),Object(n.jsx)(G,{})]})}),Y=(a(70),a(71),function(e){var t=e.showSettings,a=e.setShowSettings,r=Object(c.useState)("hamburger--closed"),s=Object(y.a)(r,2),o=s[0],i=s[1];return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("button",{className:"hamburger",onClick:function(){a(!t),i("hamburger--closed"===o?"hamburger--open":"hamburger--closed")},children:Object(n.jsxs)("div",{id:"nav-icon2",className:"hamburger ".concat(o),children:[Object(n.jsx)("span",{}),Object(n.jsx)("span",{}),Object(n.jsx)("span",{}),Object(n.jsx)("span",{}),Object(n.jsx)("span",{}),Object(n.jsx)("span",{})]})})})}),_=function(){var e=Object(c.useState)(null),t=Object(y.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)(0),i=Object(y.a)(s,2),l=i[0],d=i[1],h=Object(c.useState)({display:"none"}),j=Object(y.a)(h,2),f=j[0],O=j[1],m=Object(c.useState)({display:"none"}),g=Object(y.a)(m,2),w=g[0],v=g[1],x=Object(c.useState)({}),C=Object(y.a)(x,2),E=C[0],V=C[1],N=Object(c.useState)(""),Q=Object(y.a)(N,2),M=Q[0],P=Q[1],T=Object(c.useState)(""),_=Object(y.a)(T,2),F=_[0],R=_[1],W=Object(c.useState)(""),z=Object(y.a)(W,2),J=z[0],K=z[1],H=Object(c.useState)(!1),L=Object(y.a)(H,2),Z=L[0],X=L[1],q=Object(c.useState)([]),$=Object(y.a)(q,2),ee=$[0],te=$[1],ae=Object(c.useState)(""),ne=Object(y.a)(ae,2),ce=ne[0],re=ne[1],se=Object(c.useState)(!1),oe=Object(y.a)(se,2),ie=oe[0],ue=oe[1],le=Object(o.c)((function(e){return e.auth})),de=le.isAuthenticated,Ae=le.user,he=Object(o.b)(),je=Object(u.e)();return Object(c.useEffect)((function(){(function(){var e=Object(p.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.post("/wines/getUserWines",{wineList:Ae.wineList});case 3:t=e.sent,a=t.data,he(S(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0,"getWines error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[he,Ae.wineList]),Object(c.useEffect)((function(){de||je.push("./login")})),Ae.columns&&Ae.shelves?Object(n.jsxs)("div",{className:"dashboard",children:[Object(n.jsx)("h1",{className:"header",children:"This is the wine we whine about"}),Object(n.jsx)(Y,{showSettings:ie,setShowSettings:ue}),Object(n.jsx)(U,{showSettings:ie}),Object(n.jsx)(D,{setSearchArr:te,searchValue:ce,setSearchValue:re}),Object(n.jsx)(k,{position:a,updateOnPost:l,setUpdateOnPost:d,showAddModal:f,setShowAddModal:O,titleValue:M,setTitleValue:P,countryValue:F,setCountryValue:R,yearValue:J,setYearValue:K,checkedValue:Z,setCheckedValue:X}),Object(n.jsx)(I,{showEditModal:w,setShowEditModal:v,updateOnPost:l,setUpdateOnPost:d,position:a,pickedCard:E,titleValue:M,setTitleValue:P,countryValue:F,setCountryValue:R,yearValue:J,setYearValue:K,checkedValue:Z,setCheckedValue:X}),Object(n.jsx)(B,{setPosition:r,updateOnPost:l,setUpdateOnPost:d,showAddModal:f,setShowAddModal:O,showEditModal:w,setShowEditModal:v,setPickedCard:V,searchArr:ee,searchValue:ce})]}):Object(n.jsx)(G,{})},F=function(){return Object(n.jsxs)("div",{className:"landing-page",children:[Object(n.jsx)("h1",{className:"header",children:"This is the wine we whine about"}),Object(n.jsxs)("div",{className:"landing-page-link-container",children:[Object(n.jsx)(i.b,{to:"/register",className:" landing-page__link landing-page__link--colored",children:"Register"}),Object(n.jsx)(i.b,{to:"/login",className:"landing-page__link",children:"Log in"})]})]})},R=function(e){var t=Object(c.useState)({name:"",email:"",password:"",password2:""}),a=Object(y.a)(t,2),r=a[0],s=a[1],i=Object(u.e)(),l=function(e){var t=e.target.name;s(Object(T.a)(Object(T.a)({},r),{},Object(P.a)({},t,e.target.value)))},d=Object(o.b)();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{className:"header",children:"This is the wine we whine about"}),Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d(function(e,t){return function(){var a=Object(p.a)(b.a.mark((function a(n){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,A.a.post("/users/register",e);case 3:t.push("/login"),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),n({type:f,payload:a.t0.response.data});case 9:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(e){return a.apply(this,arguments)}}()}(r,i))},className:"auth-form",children:[Object(n.jsx)("input",{className:"auth-form__input",onChange:l,name:"name",value:r.name,placeholder:"name"}),Object(n.jsx)("input",{className:"auth-form__input",onChange:l,name:"email",value:r.email,placeholder:"email"}),Object(n.jsx)("input",{className:"auth-form__input",onChange:l,name:"password",value:r.password,placeholder:"password",type:"password"}),Object(n.jsx)("input",{className:"auth-form__input",onChange:l,name:"password2",value:r.password2,placeholder:"repeat password",type:"password"}),Object(n.jsx)("button",{className:"auth-form__submit-button btn--enforced",type:"submit",children:"register"})]})]})},W=(a(72),function(e){var t=Object(c.useState)({email:"",password:""}),a=Object(y.a)(t,2),r=a[0],s=a[1],i=Object(c.useState)(!1),d=Object(y.a)(i,2),j=d[0],O=d[1],m=Object(u.e)(),g=Object(o.c)((function(e){return e.auth.isAuthenticated})),w=Object(o.c)((function(e){return e.errorState})),v=Object(o.b)();Object(c.useEffect)((function(){if(w)return O(w)}),[w]),Object(c.useEffect)((function(){g&&m.push("/dashboard")}));var x=function(e){var t=e.target.name;s(Object(T.a)(Object(T.a)({},r),{},Object(P.a)({},t,e.target.value)))};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{className:"header",children:"This is the wine we whine about"}),Object(n.jsxs)("form",{onSubmit:function(t){var a;t.preventDefault(),v((a=r,function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A.a.post("/users/login",a).then((function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),h(a);var n=Object(l.a)(a);t(C(n))})).catch((function(e){return t({type:f,payload:e.response.data})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),e.history.push("/dashboard")},className:"auth-form",children:[j.email?Object(n.jsx)("p",{children:j.email}):Object(n.jsx)("p",{}),Object(n.jsx)("input",{className:"auth-form__input",onChange:x,name:"email",value:r.email,placeholder:"email"}),j.password?Object(n.jsx)("p",{children:j.password}):Object(n.jsx)("p",{}),Object(n.jsx)("input",{className:"auth-form__input",onChange:x,name:"password",value:r.password,placeholder:"password",type:"password"}),Object(n.jsx)("button",{className:"auth-form__submit-button btn--enforced",type:"submit",children:"log in"})]})]})}),z=function(e){var t=Object(o.b)();if(localStorage.jwtToken){var a=localStorage.jwtToken;h(a);var c=Object(l.a)(a);t(C(c));var r=Date.now()/1e3;c.exp<r&&(t((function(e){localStorage.removeItem("jwtToken"),h(!1),e(C({}))})),window.location.href="./login")}return Object(n.jsx)(i.a,{children:Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(u.a,{exact:!0,path:"/",component:F}),Object(n.jsx)(u.a,{exact:!0,path:"/register",component:R}),Object(n.jsx)(u.a,{exact:!0,path:"/login",component:W}),Object(n.jsx)(u.a,{exact:!0,path:"/dashboard",component:_})]})})},J=a(14),K=a(38),H=a(73),L={isAuthenticated:!1,user:{},loading:!1},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(T.a)(Object(T.a)({},e),{},{isAuthenticated:!H(t.payload),user:t.payload});case O:return Object(T.a)(Object(T.a)({},e),{},{loading:!0});default:return e}},X={},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return t.payload;default:return e}},$=function(e,t){return e.map((function(e){return e._id!==t._id?e:t}))},ee=function(e,t){return e.filter((function(e){return e._id!==t}))},te=[],ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return t.payload;case w:return $(e,t.payload);case v:return ee(e,t.payload);default:return e}},ne=Object(J.c)({auth:Z,errorState:q,wineArr:ae}),ce=[K.a],re=J.d.apply(void 0,[J.a.apply(void 0,ce)].concat([])),se=Object(J.e)(ne,{},re);s.a.render(Object(n.jsx)(o.a,{store:se,children:Object(n.jsx)(z,{})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.d924ff77.chunk.js.map