{"version":3,"sources":["utils/setAuthToken.js","actions/types.js","actions/authActions.js","actions/setPickedWine.js","components/card/Card.js","components/card/wine4.png","components/wineGrid/WineGrid.js","actions/wineActions.js","components/wineForm/DeleteButton.js","components/wineForm/WineForm.js","actions/setKeepForm.js","components/wineForm/AddWine.js","components/wineForm/EditWine.js","components/header/MainHeader.js","components/header/LogOutButton.js","components/header/InitialSetup.js","components/header/Settings.js","components/header/Hamburger.js","components/dashboard/Dashboard.js","components/Landing.js","components/auth/Register.js","components/auth/Login.js","App.js","reducers/authReducers.js","reducers/errorReducers.js","reducers/wineReducer.js","reducers/pickedWine.js","reducers/keepFormReducer.js","reducers/index.js","store.js","index.js"],"names":["setAuthToken","token","axios","defaults","headers","common","GET_ERRORS","USER_LOADING","SET_CURRENT_USER","SET_WINE_ARR","SET_PICKED_WINE","KEEP_FORM","UPDATE_WINE","DELETE_WINE","setUserStorage","dispatch","localStorage","setItem","decoded","jwt_decode","setCurrentUser","type","payload","setPickedWine","wineObject","Card","element","text","card","setShowEditModal","cardWidth","useDispatch","img","_id","shelf","column","title","country","comment","year","price","rating","vivinoUrl","handleEdit","a","display","conditionalRender","className","id","style","width","onClick","alt","src","length","slice","target","rel","href","WineGrid","props","wineArr","useSelector","state","pickedWine","user","auth","cardArr","searchValue","searchArr","columns","orderCards","i","j","check","forEach","push","createCard","handleClick","createButton","e","setShowAddModal","string","arr","split","parseInt","breakOutXY","parentElement","shelves","map","renderCards","setWineArr","updateWine","newWine","DeleteButton","buttonName","areYouSure","setAreYouSure","saveOrClearForm","useState","showDelete","setShowDelete","handleRemove","handleAreYouSure","delete","data","email","alert","console","error","useEffect","WineForm","titleInput","useRef","yearInput","keepForm","initialState","inputValue","setInputValue","handleInputValueChange","name","value","current","focus","onSubmit","preventDefault","isNaN","isValid","input","method","show","ref","onChange","placeholder","htmlFor","AddWine","postData","post","updateUser","message","showAddModal","EditWine","editData","put","showEditModal","MainHeader","setSearchArr","setSearchValue","searchableValues","searchNumber","match","newArr","filter","Object","entries","join","toLowerCase","handleSearch","ratingMatch","wine","filterRating","numberMatch","filterPrice","LogOutButton","history","useHistory","removeItem","InitialSetup","setShowSettings","setError","handleChange","handleSubmit","updatedUser","Settings","showSettings","totalPrice","setTotalPrice","leftMargin","extractPrice","priceReducer","acc","curr","reduce","right","Hamburger","isOpen","setIsOpen","Dashboard","updateOnPost","setUpdateOnPost","isAuthenticated","wineList","response","getWines","Landing","to","Register","password","password2","authError","errorState","userData","registerUser","Login","then","res","catch","err","App","jwtToken","currentTime","Date","now","exp","exact","path","component","isEmpty","require","loading","authReducers","action","errorReducers","findAndUpdateTargetWine","deleteWine","deleteCardId","wineReducer","combineReducers","authReducer","errorReducer","setPickedWineReducer","keepFormReducer","middleware","thunk","componsedEnhancers","compose","applyMiddleware","store","createStore","rootReducer","ReactDOM","render","document","getElementById"],"mappings":"6SAUeA,EARM,SAAAC,GACfA,EACFC,IAAMC,SAASC,QAAQC,OAAvB,cAAiDJ,SAE1CC,IAAMC,SAASC,QAAQC,OAAvB,e,uBCNEC,EAAa,aACbC,EAAe,eACfC,EAAmB,mBACnBC,EAAe,eACfC,EAAkB,kBAClBC,EAAY,YACZC,EAAc,kBACdC,EAAc,kBCoCdC,EAAiB,SAAAb,GAAK,OAAI,SAAAc,GACrCC,aAAaC,QAAQ,WAAYhB,GACjCD,EAAaC,GACb,IAAMiB,EAAUC,YAAWlB,GAC3Bc,EAASK,EAAeF,MAGbE,EAAiB,SAAAF,GAC5B,MAAO,CACLG,KAAMb,EACNc,QAASJ,I,cCjDAK,EAAgB,SAAAC,GAAU,MAAK,CAACH,KAAMX,EAAiBY,QAASE,I,OC4E9DC,EA3EF,SAAC,GAA2C,IAuB1BC,EAeLC,EAtCVC,EAAwC,EAAxCA,KAAMC,EAAkC,EAAlCA,iBAAkBC,EAAgB,EAAhBA,UAChCf,EAAWgB,cACXC,EAAMJ,EAAKI,IAAMJ,EAAKI,ICPf,69HDSXC,EAUEL,EAVFK,IACAC,EASEN,EATFM,MACAC,EAQEP,EARFO,OACAC,EAOER,EAPFQ,MACAC,EAMET,EANFS,QACAC,EAKEV,EALFU,QACAC,EAIEX,EAJFW,KACAC,EAGEZ,EAHFY,MACAC,EAEEb,EAFFa,OACAC,EACEd,EADFc,UAGIC,EAAU,uCAAG,sBAAAC,EAAA,sDACjB7B,EAASQ,EAAcK,IACvBC,EAAiB,CAAEgB,QAAS,SAFX,2CAAH,qDAKVC,EAAoB,SAAApB,GAAO,OAAIA,GAAW,KAwBhD,OACE,yBACEqB,UAAU,OACVC,GAAIf,EACJgB,MAAO,CAAEC,MAAM,QAAD,OAAUpB,EAAV,cAHhB,UAIE,yBAAQiB,UAAU,cAAlB,UACE,mBAAGA,UAAU,wBAAb,mBAAyCb,EAAQ,EAAjD,YAAsDC,EAAS,KAC/D,wBAAQY,UAAU,oBAAoBI,QAASR,EAA/C,uBAIF,qBAAKI,UAAU,YAAYK,IAAI,cAAcC,IAAKrB,IAClD,sBAAKe,UAAU,uBAAf,UACE,oBAAIA,UAAU,cAAd,SAA6BX,IAC7B,mBAAGW,UAAU,0BAAb,SAAwCD,EAAkBT,KAC1D,mBAAGU,UAAU,gBAAb,UAtBkBpB,EAsB4BW,GArB1C,OAAJX,QAAI,IAAJA,OAAA,EAAAA,EAAM2B,QAAS,GACX,GAAN,OAAU3B,EAAK4B,MAAM,EAAG,IAAxB,OAEK5B,KAmBH,yBAAQoB,UAAU,eAAlB,UACA,sBAAMA,UAAU,yBACd,mBAAGA,UAAU,uBAAb,SAAqCD,EAAkBP,KACvD,oBAAGQ,UAAU,uBAAb,UAAqCD,EAAkBN,GAAvD,SACA,oBAAGO,UAAU,uBAAb,UACGD,EAAkBL,GADrB,aA1CqBf,EA6CCgB,EA5CvBhB,EAIH,mBACE8B,OAAO,SACPC,IAAI,aACJC,KAAMhB,EACNK,UAAU,wCAJZ,2BAHO,mBAAGA,UAAU,wCAAb,4BE6DEY,EAtFE,SAAAC,GACf,IAAM7C,EAAWgB,cACX8B,EAAUC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,WACrCG,EAAaF,aAAY,SAAAC,GAAK,OAAIA,EAAMC,cACtCC,EAASH,aAAY,SAAAC,GAAK,OAAIA,EAAMG,QAApCD,KACFE,EAAUP,EAAMQ,YAAcR,EAAMS,UAAYR,EAChD/B,EAAa,IAAMmC,EAAKK,QA+BxBC,EAAa,SAACJ,EAASX,EAAQgB,EAAGC,GACtC,IAAIC,GAAQ,EAOZ,GANO,OAAPP,QAAO,IAAPA,KAASQ,SAAS,SAAA/C,GACb,UAAGA,EAAKM,MAAR,YAAiBN,EAAKO,UAAtB,UAAsCqC,EAAtC,YAA2CC,KAC5CC,GAAQ,EACRlB,EAAOoB,KAhBM,SAAChD,GAClB,OACE,cAAC,EAAD,CAEEA,KAAMA,EACNE,UAAWA,EACXD,iBAAkB+B,EAAM/B,kBAHnBD,EAAKK,KAaE4C,CAAWjD,SAGtB8C,IAAUd,EAAMQ,YAAa,OAAOZ,EAAOoB,KArC7B,SAACJ,EAAGC,GACvB,OACE,sBAEE1B,UAAU,gBACVC,GAAE,UAAKwB,EAAL,YAAUC,GACZxB,MAAO,CAACC,MAAM,QAAD,OAAUpB,EAAV,cAJf,UAKE,qBAAKiB,UAAU,cAAf,SACE,mBAAGA,UAAU,8BAAb,mBAA+CyB,EAAI,EAAnD,YAAwDC,EAAI,OAE9D,wBACEtB,QAAS2B,EADX,iBARF,UACUN,EADV,YACeC,IAkCoCM,CAAaP,EAAGC,KA6BjEK,EAAc,SAAAE,GAClBpB,EAAMqB,gBAAgB,CAACpC,QAAS,SAChC9B,EAASQ,EAAc,2BAAIyC,GAVV,SAAAkB,GACjB,IAAMC,EAAMD,EAAOE,MAAM,KACzB,MAAO,CACLlD,MAAOmD,SAASF,EAAI,IACpBhD,OAAQkD,SAASF,EAAI,KAMmBG,CAAWN,EAAExB,OAAO+B,cAAcvC,QAG9E,OACE,qBAAKD,UAAU,WAAf,SAhCkB,SAACoB,GAEnB,IADA,IAAMqB,EAAU,GACPhB,EAAI,EAAGA,EAAIP,EAAKuB,QAAShB,IAAM,CAEtC,IADA,IAAMF,EAAU,GACPG,EAAI,EAAGA,EAAIR,EAAKK,QAASG,IAChCF,EAAWJ,EAASG,EAASE,EAAGC,GAElCe,EAAQZ,KAAKN,GAEf,OAAOkB,EAAQC,KAAI,SAACvD,EAAOsC,GACzB,OACE,qBAAKzB,UAAU,WAAf,SACGb,GAD4BsC,MAsBhCkB,CAAYvB,M,gBChFNwB,EAAa,SAAAxB,GAAO,MAAK,CAAE9C,KAAMZ,EAAca,QAAS6C,IAExDyB,EAAa,SAAAC,GAAO,MAAK,CAACxE,KAAMT,EAAaU,QAASuE,ICwDpDC,EA3DM,SAAC,GAAkF,IAAhFC,EAA+E,EAA/EA,WAAYC,EAAmE,EAAnEA,WAAYC,EAAuD,EAAvDA,cAAepE,EAAwC,EAAxCA,iBAAkBqE,EAAsB,EAAtBA,gBAAsB,EACjEC,mBAAS,QADwD,mBAC9FC,EAD8F,KAClFC,EADkF,KAG/FtF,EAAWgB,cACTkC,EAASH,aAAY,SAAAC,GAAK,OAAIA,EAAMG,QAApCD,KACAhC,EAAQ6B,aAAY,SAAAC,GAAK,OAAIA,EAAMC,cAAnC/B,IAUFqE,EAAY,uCAAG,WAAMtB,GAAN,SAAApC,EAAA,sEAEjB7B,EDZmC,CAACM,KAAMR,EAAaS,QCYnCW,IACpBJ,EAAiB,CAAEgB,QAAS,SAC5B0D,IAJiB,SAKXrG,IAAMsG,OAAO,SAAU,CAACC,KAAM,CAAExE,SALrB,uBAMX/B,IAAMsG,OAAO,oBAAqB,CAACC,KAAM,CAAEC,MAAOzC,EAAKyC,MAAOzE,SANnD,OAOjBiE,IAPiB,kDASjBS,MAAM,0BAAD,MACLC,QAAQC,MAAR,MAViB,0DAAH,sDAcZN,EAAmB,kBAAMN,GAAeD,IAM9C,OAJAc,qBAAU,WAtBNT,EADiB,gBAAfN,EACY,OAEA,WAyBhB,sBAAKhD,UAAU,0BAA0BE,MAAO,CAACJ,QAASuD,GAA1D,UACE,wBACE/E,KAAK,SACL8B,QAASoD,EACTxD,UAAU,iCACVE,MAAO,CAACJ,QAASmD,EAAa,OAAS,SAJzC,yBAOCA,EAED,qCACE,mBAAGjD,UAAU,oBAAb,wDACA,wBAAQ1B,KAAK,SAAS0B,UAAU,gCAAgCI,QAASmD,EAAzE,iBACA,wBAAQjF,KAAK,SAAS0B,UAAU,qCAAqCI,QAASoD,EAA9E,mBAGA,OCkFOQ,EArIE,SAAAnD,GACf,IAAM7C,EAAWgB,cACXiF,EAAaC,iBAAO,MACpBC,EAAYD,iBAAO,MAHD,EAIYd,oBAAS,GAJrB,mBAIjBH,EAJiB,KAILC,EAJK,KAKlBjC,EAAaF,aAAY,SAAAC,GAAK,OAAIA,EAAMC,cACtC7B,EAAkB6B,EAAlB7B,OAAQD,EAAU8B,EAAV9B,MACViF,EAAWrD,aAAY,SAAAC,GAAK,OAAIA,EAAMoD,YACtCC,EAAe,CAAEhF,MAAO,GAAIG,KAAM,GAAIC,MAAO,GAAIF,QAAS,IARxC,EASY6D,mBAASiB,GATrB,mBASjBC,EATiB,KASLC,EATK,KAuBlBpB,EAAkB,WACjBiB,IACHG,EAAcF,GACdrG,EAASQ,EAAc6F,MAqBrBG,EAAyB,SAAAvC,GAC7B,IAAMwC,EAAOxC,EAAExB,OAAOgE,KACtBF,EAAc,2BACTD,GADQ,kBAEVG,EAAOxC,EAAExB,OAAOiE,UAwBrB,OANAX,qBAAU,kBAAMQ,EAAc,eAAKtD,MAAe,CAACA,IAEnD8C,qBAAU,WALRE,EAAWU,QAAQC,UAOlB,IAGD,uBAAMC,SA9Ca,SAAA5C,GACnBA,EAAE6C,iBADsB,MAhBnBR,EAAWjF,MAGZ0F,MAAMT,EAAW9E,MACZ,CAAEwF,SAAS,EAAOC,MAAOd,GAE3B,CAAEa,SAAS,GALT,CAAEA,SAAS,EAAOC,MAAOhB,GAkBlC,IAHwB,EAEhBe,QAEN,OAJsB,EAEPC,MAEFN,QAAQC,QAEvB/D,EAAMqE,OAAN,uCACKjE,GACAqD,GAFL,IAGElF,SACAD,WAEF0B,EAAMsE,KAAK,CAAErF,QAAS,SACtBoD,GAAc,GACdC,KAgC8BnD,UAAU,WAAxC,UACE,wBAAQ1B,KAAK,SAAS8B,QAlBX,WACb+C,IACAD,GAAc,GACdrC,EAAMsE,KAAK,CAAErF,QAAS,UAemBE,UAAU,eAAjD,oBAGA,uBACEoF,IAAKnB,EACLS,MAAOJ,EAAWjF,OAAS,GAC3BgG,SAAUb,EACVC,KAAK,QACLnG,KAAK,OACLgH,YAAY,SAEd,uBACEF,IAAKjB,EACLO,MAAOJ,EAAW9E,MAAQ,GAC1B6F,SAAUb,EACVC,KAAK,OACLnG,KAAK,OACLgH,YAAY,SAEd,uBACEZ,MAAOJ,EAAW7E,OAAS,GAC3B4F,SAAUb,EACVC,KAAK,QACLnG,KAAK,OACLgH,YAAY,sBAEd,0BACEZ,MAAOJ,EAAW/E,SAAW,GAC7B8F,SAAUb,EACVC,KAAK,UACLa,YAAY,YACd,wBACEhH,KAAK,SACL0B,UAAU,iCACVE,MAAO,CAAEJ,QAASmD,EAAa,OAAS,SAH1C,SAIGpC,EAAMmC,aAET,cAAC,EAAD,CACEA,WAAYnC,EAAMmC,WAClBC,WAAYA,EACZC,cAAeA,EACfpE,iBAAkB+B,EAAM/B,iBACxBqE,gBAAiBA,IAEnB,sBAAKnD,UAAU,YAAf,UACE,uBACE0E,MAAON,EACPiB,SArEsB,WAC5BrH,EC1DqC,CAACM,KAAMV,EAAWW,SD0DjC6F,KAqEhB9F,KAAK,WACL0B,UAAS,8BAAyBoE,KACpC,uBAAOmB,QAAQ,WAAf,mCE/FOC,EA/BC,SAAA3E,GACd,IAAM7C,EAAWgB,cACX8B,EAAUC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,WACrCG,EAAaF,aAAY,SAAAC,GAAK,OAAIA,EAAMC,cACtC9B,EAAkB8B,EAAlB9B,MAAOC,EAAW6B,EAAX7B,OACP8B,EAASH,aAAY,SAAAC,GAAK,OAAIA,EAAMG,QAApCD,KAEFuE,EAAQ,uCAAG,WAAO/B,GAAP,mBAAA7D,EAAA,sEAEb7B,EAAS4E,EAAW,GAAD,mBAAK9B,GAAL,CAAc,CAAE3B,QAAOC,SAAQE,QAAS,kBAF9C,SAGSnC,IAAMuI,KAAK,SAAUhC,GAH9B,cAGPZ,EAHO,OAIb9E,EAAS4E,EAAW,GAAD,mBAAK9B,GAAL,CAAcgC,EAAQY,SAJ5B,SAKYvG,IAAMuI,KAAK,iBAAkB,CAAExG,IAAK4D,EAAQY,KAAKxE,IAAKyE,MAAOzC,EAAKyC,QAL9E,OAKPgC,EALO,OAMLzI,EAAUyI,EAAWjC,KAArBxG,MACRc,EAASD,EAAeb,IAPX,kDASb0G,MAAM,0BAA2B,KAAIgC,SATxB,kEAAH,sDAad,OACE,qBAAK5F,UAAU,YAAYE,MAAOW,EAAMgF,aAAxC,SACE,cAAC,EAAD,CACEX,OAAQO,EACRzC,WAAW,WACXmC,KAAMtE,EAAMqB,qBCCL4D,EA3BE,SAAAjF,GACf,IAAM7C,EAAWgB,cACTkC,EAASH,aAAY,SAAAC,GAAK,OAAIA,EAAMG,QAApCD,KAEF6E,EAAQ,uCAAG,WAAOrC,GAAP,eAAA7D,EAAA,+EAES1C,IAAM6I,IAAI,SAAUtC,GAF7B,cAEPZ,EAFO,OAGb9E,EAAS6E,EAAWC,EAAQY,OAHf,SAIPvG,IAAMuI,KAAK,iBAAkB,CAAExG,IAAK4D,EAAQY,KAAKxE,IAAKyE,MAAOzC,EAAKyC,QAJ3D,uDAMbC,MAAM,0BAAD,MACLC,QAAQC,MAAR,MAPa,iEAAH,sDAWd,OACE,qBAAK9D,UAAU,YAAYE,MAAOW,EAAMoF,cAAxC,SACE,cAAC,EAAD,CACEf,OAAQa,EACR/C,WAAW,cACXmC,KAAMtE,EAAM/B,iBACZA,iBAAkB+B,EAAM/B,sBC0CjBoH,EAlEI,SAAC,GAAmD,IAAjDC,EAAgD,EAAhDA,aAAc9E,EAAkC,EAAlCA,YAAa+E,EAAqB,EAArBA,eACzCtF,EAAUC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,WAMrCuF,EAAmB,SAAAjE,GAAG,MACf,UAAXA,EAAI,IACO,SAAXA,EAAI,IACO,YAAXA,EAAI,IACO,UAAXA,EAAI,IACO,WAAXA,EAAI,GACFA,EAAI,GACJ,IAGEkE,EAAe,SAAAnE,GAAM,aAAIG,SAAQ,UAACH,EAAOoE,MAAM,iBAAd,aAAC,EAAyB,KAoCjE,OAlCAxC,qBAAU,YACa,WACnB,IAAMyC,EAAM,OAAG1F,QAAH,IAAGA,OAAH,EAAGA,EACX2F,QAAO,SAAA5H,GAAI,OAAI6H,OAAOC,QAAQ9H,GAC7B6D,IAAI2D,GACJO,KAAK,IACLC,cACAN,MAAMlF,EACJwF,kBACPV,EAAaK,GAEfM,KACC,CAACzF,EAAa8E,EAAcrF,IAE/BiD,qBAAU,YACa,WACnB,UAAG1C,QAAH,IAAGA,OAAH,EAAGA,EAAakF,MAAM,WAAY,CAChC,IAAMQ,EAAW,OAAGjG,QAAH,IAAGA,OAAH,EAAGA,EAAS2F,QAAO,SAAAO,GAAI,OAAI1E,SAAS0E,EAAKtH,SAAW4G,EAAajF,MAClF8E,EAAaY,IAGjBE,KACC,CAAC5F,EAAa8E,EAAcrF,IAE/BiD,qBAAU,YACY,WAClB,UAAG1C,QAAH,IAAGA,OAAH,EAAGA,EAAakF,MAAM,OAAQ,CAC5B,IAAMW,EAAW,OAAGpG,QAAH,IAAGA,OAAH,EAAGA,EAAS2F,QAAO,SAAAO,GAAI,OAAI1E,SAAS0E,EAAKvH,QAAU6G,EAAajF,MACjF8E,EAAae,IAGjBC,KACC,CAAC9F,EAAa8E,EAAcrF,IAG7B,qBAAKd,UAAU,cAAf,SACE,uBACE1B,KAAK,OACL+G,SAtDe,SAAApD,GACnBmE,EAAenE,EAAExB,OAAOiE,QAsDpBA,MAAOrD,EACPrB,UAAU,SACVsF,YAAY,cCvCL8B,EAnBM,WACnB,IAAMpJ,EAAWgB,cACXqI,EAAUC,cAQhB,OACE,qBAAKtH,UAAU,mBAAf,SACE,wBAAQA,UAAU,gBAAgBI,QARjB,WACnBpC,EAASK,EAAe,KACxBJ,aAAasJ,WAAW,YACxBF,EAAQxF,KAAK,MAKX,SACE,6CCmDO2F,EAhEM,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,gBACdvG,EAASH,aAAY,SAAAC,GAAK,OAAIA,EAAMG,QAApCD,KADoC,EAERkC,mBAAS,CAC3C7B,QAASL,EAAKK,QACdkB,QAASvB,EAAKuB,UAJ4B,mBAErC6B,EAFqC,KAEzBC,EAFyB,OAMlBnB,oBAAS,GANS,mBAMrCU,EANqC,KAM9B4D,EAN8B,KAOtC1J,EAAWgB,cAEX2I,EAAe,SAAA1F,GAAM,IACjBwC,EAASxC,EAAExB,OAAXgE,KACRF,EAAc,2BACTD,GADQ,kBAEVG,EAAOxC,EAAExB,OAAOiE,UAIfkD,EAAY,uCAAG,WAAM3F,GAAN,iBAAApC,EAAA,yDACnBoC,EAAE6C,iBACER,EAAW/C,SAAY+C,EAAW7B,QAFnB,gBAGjBiF,GAAS,GAHQ,8BAKjBA,GAAS,GALQ,SAMSvK,IAAMuI,KAAK,oBACrC,CACEnE,QAAS+C,EAAW/C,QACpBkB,QAAS6B,EAAW7B,QACpBkB,MAAOzC,EAAKyC,QAVG,OAMXkE,EANW,OAYT3K,EAAU2K,EAAYnE,KAAtBxG,MACRuK,GAAgB,GAChBzJ,EAASD,EAAeb,IAdP,4CAAH,sDAkBlB,OACE,qBAAK8C,UAAU,2BAAf,SACE,uBAAMA,UAAU,sBAAsB6E,SAAU+C,EAAhD,UACG9D,EAAQ,gFAAyD,GAClE,kEACA,uBACEW,KAAK,UACLzE,UAAU,uBACV1B,KAAK,SACLgH,YAAapE,EAAKK,QAClBmD,MAAQJ,EAAWlF,OACnBiG,SAAUsC,IAEZ,kEACA,uBACElD,KAAK,UACLzE,UAAU,uBACV1B,KAAK,SACLgH,YAAapE,EAAKuB,QAClBiC,MAAQJ,EAAWnF,MACnBkG,SAAUsC,IAEZ,mBAAG3H,UAAU,mBAAb,oDACA,wBAAQ1B,KAAK,SAAS0B,UAAU,+CAAhC,2BCxBO8H,G,MAjCE,SAAC,GAAuC,IAArCC,EAAoC,EAApCA,aAAcN,EAAsB,EAAtBA,gBAAsB,EAClBrE,mBAAS,GADS,mBAC/C4E,EAD+C,KACnCC,EADmC,KAEhDnH,EAAUC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,WACnCI,EAASH,aAAY,SAAAC,GAAK,OAAIA,EAAMG,QAApCD,KACFgH,EAAaH,EAAe,KAAO,SAEnCI,EAAe,SAAAnB,GACnB,OAAKA,EAAKvH,OAASsF,MAAMiC,EAAKvH,OACrB,EAEF6C,SAAS0E,EAAKvH,QAGjB2I,EAAe,SAACC,EAAKC,GAAN,OAAeD,EAAM/F,SAASgG,IAOnD,OALAvE,qBAAU,WACR,IAAMiE,EAAalH,EAAQ4B,IAAIyF,GAAcI,OAAOH,EAAc,GAClEH,EAAcD,KACb,CAAClH,IAGF,sBAAKd,UAAU,qBAAqBE,MAAO,CAAEsI,MAAON,GAApD,UACE,6BAAKhH,EAAKuD,OACV,cAAC,EAAD,IACA,sBAAKzE,UAAU,4BAAf,UACE,mBAAGA,UAAU,oBAAb,2CACA,8BAAIgI,EAAJ,YAEF,cAAC,EAAD,CAAcP,gBAAiBA,SCFtBgB,G,MA7BG,SAAC,GAAuC,IAArCV,EAAoC,EAApCA,aAAcN,EAAsB,EAAtBA,gBAAsB,EAC3BrE,mBAAS,qBADkB,mBAChDsF,EADgD,KACxCC,EADwC,KAavD,OANA5E,qBAAU,WAEN4E,EADFZ,EACY,kBACA,uBACX,CAACA,IAGF,mCACE,wBAAQ/H,UAAU,YAAYI,QAZX,WACrBqH,GAAiBM,IAWf,SACE,sBAAK9H,GAAG,YAAYD,UAAS,oBAAe0I,GAA5C,UACE,yBACA,yBACA,yBACA,yBACA,yBACA,kCC2DKE,G,MAtEG,WAAO,IAAD,EACkBxF,mBAAS,GAD3B,mBACfyF,EADe,KACDC,EADC,OAEkB1F,mBAAS,CAACtD,QAAS,SAFrC,mBAEf+F,EAFe,KAED3D,EAFC,OAGoBkB,mBAAS,CAACtD,QAAS,SAHvC,mBAGfmG,EAHe,KAGAnH,EAHA,OAIYsE,mBAAS,IAJrB,mBAIf9B,EAJe,KAIJ6E,EAJI,OAKgB/C,mBAAS,IALzB,mBAKf/B,EALe,KAKF+E,EALE,OAMkBhD,oBAAS,GAN3B,mBAMf2E,EANe,KAMDN,EANC,OAQY1G,aAAY,SAAAC,GAAK,OAAIA,EAAMG,QAArD4H,EARc,EAQdA,gBAAiB7H,EARH,EAQGA,KACnBlD,EAAWgB,cACXqI,EAAUC,cAqBhB,OAnBAvD,qBAAU,YACM,uCAAG,8BAAAlE,EAAA,+EAEU1C,IAAMuI,KAAK,sBAAuB,CAAEsD,SAAU9H,EAAK8H,WAF7D,OAEPC,EAFO,OAGPvF,EAAOuF,EAASvF,KACtB1F,EAAS4E,EAAWc,IAJP,gDAMbG,QAAQC,MAAR,KAAmB,kBANN,yDAAH,qDASdoF,KACC,CAAClL,EAAUkD,EAAK8H,WAEnBjF,qBAAU,WACHgF,GACH1B,EAAQxF,KAAK,aAIZX,EAAKK,SAAYL,EAAKuB,QAIvB,sBAAKzC,UAAU,YAAf,UACE,cAAC,EAAD,CAAW+H,aAAcA,EAAcN,gBAAiBA,IACxD,cAAC,EAAD,CAAUM,aAAcA,EAAcN,gBAAiBA,IACvD,cAAC,EAAD,CACEtB,aAAcA,EACd9E,YAAaA,EACb+E,eAAgBA,IAClB,oBAAIpG,UAAU,SAAd,6CACA,cAAC,EAAD,CACE6I,aAAcA,EACdC,gBAAiBA,EACjBjD,aAAcA,EACd3D,gBAAiBA,IAEnB,cAAC,EAAD,CACE+D,cAAeA,EACfnH,iBAAkBA,EAClB+J,aAAcA,EACdC,gBAAiBA,IAEnB,cAAC,EAAD,CACED,aAAcA,EACdC,gBAAiBA,EACjBjD,aAAcA,EACd3D,gBAAiBA,EACjB+D,cAAeA,EACfnH,iBAAkBA,EAClBwC,UAAWA,EACXD,YAAaA,OA/BZ,cAAC,EAAD,CAAcoG,gBAAiBA,MCrB3B0B,EArBC,WACd,IAAMhI,EAAOJ,aAAY,SAAAC,GAAK,OAAIA,EAAMG,KAAK4H,mBACvC1B,EAAUC,cAQhB,OANAvD,qBAAU,WACL5C,GACDkG,EAAQxF,KAAK,iBAKf,sBAAK7B,UAAU,eAAf,UACE,oBAAIA,UAAU,SAAd,6CACA,sBAAKA,UAAU,8BAAf,UACE,cAAC,IAAD,CAAMoJ,GAAG,YAAYpJ,UAAU,kDAA/B,sBACA,cAAC,IAAD,CAAMoJ,GAAG,SAASpJ,UAAU,qBAA5B,2BC+DOqJ,EA7EE,SAAAxI,GAAU,IAAD,EACcuC,mBAAS,CAC7CqB,KAAM,GACNd,MAAO,GACP2F,SAAU,GACVC,UAAW,KALW,mBAChBjF,EADgB,KACJC,EADI,KAOlBpD,EAAOJ,aAAY,SAAAC,GAAK,OAAIA,EAAMG,KAAK4H,mBACvCS,EAAYzI,aAAY,SAAAC,GAAK,OAAIA,EAAMyI,cACvCpC,EAAUC,cACVtJ,EAAWgB,cAEX2I,EAAe,SAAA1F,GACnB,IAAMwC,EAAOxC,EAAExB,OAAOgE,KACtBF,EAAc,2BACTD,GADQ,kBAEVG,EAAOxC,EAAExB,OAAOiE,UAerB,OANAX,qBAAU,WACL5C,GACDkG,EAAQxF,KAAK,iBAKf,qCACA,oBAAI7B,UAAU,SAAd,6CACA,uBAAM6E,SAda,SAAA5C,GACnBA,EAAE6C,iBACF9G,ElBlBwB,SAAC0L,EAAUrC,GAAX,8CAAuB,WAAMrJ,GAAN,SAAA6B,EAAA,+EAEzC1C,IAAMuI,KAAK,kBAAmBgE,GAFW,OAG/CrC,EAAQxF,KAAK,UACb7D,EAAS,CACPM,KAAMf,EACNgB,QAAS,KANoC,gDAS/CP,EAAS,CACPM,KAAMf,EACNgB,QAAS,KAAI0K,SAASvF,OAXuB,yDAAvB,sDkBkBfiG,CAAarF,EAAY+C,KAYJrH,UAAU,YAAxC,UACE,uBACEA,UAAU,mBACVqF,SAAUsC,EACVlD,KAAK,OAAOC,MAAOJ,EAAWG,KAC9Ba,YAAY,SAEbkE,EAAU7F,MAAQ,mBAAG3D,UAAU,gBAAb,SAA+BwJ,EAAU7F,QAAc,GAC1E,uBACE3D,UAAU,mBACVqF,SAAUsC,EACVlD,KAAK,QACLC,MAAOJ,EAAWX,MAClB2B,YAAY,UAEbkE,EAAUF,SAAW,mBAAGtJ,UAAU,gBAAb,SAA+BwJ,EAAUF,WAAiB,GAChF,uBACEtJ,UAAU,mBACVqF,SAAUsC,EACVlD,KAAK,WACLC,MAAOJ,EAAWgF,SAClBhE,YAAY,WACZhH,KAAK,aAENkL,EAAUD,UAAY,mBAAGvJ,UAAU,gBAAb,SAA+BwJ,EAAUD,YAAkB,GAClF,uBACEvJ,UAAU,mBACVqF,SAAUsC,EACVlD,KAAK,YACLC,MAAOJ,EAAWiF,UAClBjE,YAAY,kBACZhH,KAAK,aAEP,wBACE0B,UAAU,yCACV1B,KAAK,SAFP,6BCXSsL,G,MAvDD,SAAA/I,GAAU,IAAD,EACiBuC,mBAAS,CAC7CO,MAAO,GACP2F,SAAU,KAHS,mBACbhF,EADa,KACDC,EADC,KAKf8C,EAAUC,cACVnG,EAAOJ,aAAY,SAAAC,GAAK,OAAIA,EAAMG,KAAK4H,mBACvCS,EAAYzI,aAAY,SAAAC,GAAK,OAAIA,EAAMyI,cACvCzL,EAAWgB,cAEjB+E,qBAAU,WACL5C,GACDkG,EAAQxF,KAAK,iBAIjB,IAAM8F,EAAe,SAAA1F,GACnB,IAAMwC,EAAOxC,EAAExB,OAAOgE,KACtBF,EAAc,2BACTD,GADQ,kBAEVG,EAAOxC,EAAExB,OAAOiE,UAUrB,OACE,qCACA,oBAAI1E,UAAU,SAAd,6CACA,uBAAM6E,SATa,SAAA5C,GnBLE,IAAAyH,EmBMrBzH,EAAE6C,iBACF9G,GnBPqB0L,EmBOFpF,EnBPU,uCAAI,WAAMtG,GAAN,SAAA6B,EAAA,sDACnC1C,IACGuI,KAAK,eAAgBgE,GACrBG,MAAK,SAAAC,GAAQ,IACJ5M,EAAU4M,EAAIpG,KAAdxG,MACRe,aAAaC,QAAQ,WAAYhB,GACjCD,EAAaC,GACb,IAAMiB,EAAUC,YAAWlB,GAC3Bc,EAASK,EAAeF,OAEzB4L,OAAM,SAAAC,GAAG,OACRhM,EAAS,CACPM,KAAMf,EACNgB,QAASyL,EAAIf,SAASvF,UAbO,2CAAJ,wDmBQ7B7C,EAAMwG,QAAQxF,KAAK,eAMW7B,UAAU,YAAxC,UACGwJ,EAAU7F,MAAQ,mBAAG3D,UAAU,gBAAb,SAA+BwJ,EAAU7F,QAAc,sBAC1E,uBACE3D,UAAU,mBACVqF,SAAUsC,EAAclD,KAAK,QAC7BC,MAAOJ,EAAWX,MAClB2B,YAAY,UAEbkE,EAAUF,SAAW,mBAAGtJ,UAAU,gBAAb,SAA+BwJ,EAAUF,WAAiB,sBAChF,uBACEtJ,UAAU,mBACVqF,SAAUsC,EACVlD,KAAK,WACLC,MAAOJ,EAAWgF,SAClBhE,YAAY,WACZhH,KAAK,aACP,wBAAQ0B,UAAU,yCAAyC1B,KAAK,SAAhE,4BCfS2L,EA7BH,WACV,IAAMjM,EAAWgB,cACXqI,EAAUC,cAEhB,GAAIrJ,aAAaiM,SAAU,CACzB,IAAMhN,EAAQe,aAAaiM,SAC3BjN,EAAaC,GACb,IAAMiB,EAAUC,YAAWlB,GAC3Bc,EAASK,EAAeF,IAExB,IAAMgM,EAAcC,KAAKC,MAAQ,IAC7BlM,EAAQmM,IAAMH,IAChBnM,GpBwC0B,SAAAA,GAC9BC,aAAasJ,WAAW,YACxBtK,GAAa,GACbe,EAASK,EAAe,QoB1CpBgJ,EAAQxF,KAAK,WAIjB,OACE,cAAC,IAAD,UACE,sBAAK7B,UAAU,MAAf,UACE,cAAC,IAAD,CAAOuK,OAAK,EAACC,KAAK,IAAIC,UAAWtB,IACjC,cAAC,IAAD,CAAOqB,KAAK,YAAYC,UAAWpB,IACnC,cAAC,IAAD,CAAOmB,KAAK,SAASC,UAAWb,IAChC,cAAC,IAAD,CAAOY,KAAK,aAAaC,UAAW7B,U,gBC9BtC8B,EAAUC,EAAQ,IAElBtG,EAAe,CACnB0E,iBAAiB,EACjB7H,KAAM,GACN0J,SAAS,GAqBIC,GAlBM,WAAmC,IAAlC7J,EAAiC,uDAAzBqD,EAAcyG,EAAW,uCACrD,OAAQA,EAAOxM,MACb,KAAKb,EACH,OAAO,2BACFuD,GADL,IAEE+H,iBAAkB2B,EAAQI,EAAOvM,SACjC2C,KAAM4J,EAAOvM,UAEjB,KAAKf,EACH,OAAO,2BACFwD,GADL,IAEE4J,SAAS,IAEb,QACE,OAAO5J,ICxBPqD,GAAe,GAWN0G,GATO,WAAmC,IAAlC/J,EAAiC,uDAAzBqD,GAAcyG,EAAW,uCACtD,OAAQA,EAAOxM,MACb,KAAKf,EACH,OAAOuN,EAAOvM,QAChB,QACE,OAAOyC,ICHPgK,GAA0B,SAAC5J,EAAS0B,GAAV,OAC9B1B,EAAQsB,KAAI,SAAA7D,GAAI,OAAIA,EAAKK,MAAQ4D,EAAQ5D,IACrCL,EACAiE,MAGAmI,GAAa,SAACjK,EAAOkK,GAAR,OAAyBlK,EAAMyF,QAAO,SAAA5H,GAAI,OAAIA,EAAKK,MAAQgM,MAExE7G,GAAe,GAeN8G,GAbK,WAAmC,IAAlCnK,EAAiC,uDAAzBqD,GAAcyG,EAAW,uCACpD,OAAQA,EAAOxM,MACb,KAAKZ,EACH,OAAOoN,EAAOvM,QAChB,KAAKV,EACH,OAAOmN,GAAwBhK,EAAO8J,EAAOvM,SAC/C,KAAKT,EACH,OAAOmN,GAAWjK,EAAO8J,EAAOvM,SAClC,QACE,OAAOyC,ICrBPqD,GAAe,GAWN7F,GATO,WAAmC,IAAlCwC,EAAiC,uDAAzBqD,GAAcyG,EAAW,uCACtD,OAAQA,EAAOxM,MACb,KAAKX,EACH,OAAOmN,EAAOvM,QAChB,QACE,OAAOyC,ICIEoD,GATE,WAAmC,IAAlCpD,EAAiC,wDAAX8J,EAAW,uCACjD,OAAQA,EAAOxM,MACb,KAAKV,EACH,OAAOkN,EAAOvM,QAChB,QACE,OAAOyC,ICJEoK,eAAgB,CAC7BjK,KAAMkK,GACN5B,WAAY6B,GACZxK,QAASqK,GACTlK,WAAYsK,GACZnH,SAAUoH,KCNNC,GAAa,CAACC,KASdC,GAAqBC,IAAO,WAAP,GACzBC,IAAe,WAAf,EAAmBJ,KADM,OAVT,KAqBHK,GANDC,YACZC,GAjBmB,GAmBnBL,IChBFM,IAASC,OACP,cAAC,IAAD,CAAUJ,MAAOA,GAAjB,SACE,cAAC,EAAD,MAEFK,SAASC,eAAe,W","file":"static/js/main.737c3748.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst setAuthToken = token => {\n  if (token) {\n    axios.defaults.headers.common[\"Authorization\"] = token;\n  } else {\n    delete axios.defaults.headers.common[\"Authorization\"];\n  }\n};\n\nexport default setAuthToken;\n","export const GET_ERRORS = \"GET_ERRORS\";\nexport const USER_LOADING = \"USER_LOADING\";\nexport const SET_CURRENT_USER = \"SET_CURRENT_USER\";\nexport const SET_WINE_ARR = 'SET_WINE_ARR';\nexport const SET_PICKED_WINE = 'SET_PICKED_WINE';\nexport const KEEP_FORM = 'KEEP_FORM';\nexport const UPDATE_WINE = 'UPDATE_WINE_ARR';\nexport const DELETE_WINE = 'DELETE_WINE_ARR';","import axios from \"axios\";\nimport setAuthToken from \"../utils/setAuthToken\";\nimport jwt_decode from \"jwt-decode\";\nimport {\n  GET_ERRORS,\n  SET_CURRENT_USER,\n  USER_LOADING,\n} from \"./types\";\n\nexport const registerUser = (userData, history) => async dispatch => {\n  try {\n    await axios.post('/users/register', userData);\n    history.push('/login');\n    dispatch({\n      type: GET_ERRORS,\n      payload: {}\n    })\n  } catch (err) {\n    dispatch({\n      type: GET_ERRORS,\n      payload: err.response.data\n    })\n  }\n};\n\nexport const loginUser = userData => async dispatch => {\n  axios\n    .post(\"/users/login\", userData)\n    .then(res => {\n      const { token } = res.data;\n      localStorage.setItem(\"jwtToken\", token);\n      setAuthToken(token);\n      const decoded = jwt_decode(token);\n      dispatch(setCurrentUser(decoded));\n    })\n    .catch(err =>\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      })\n    );\n};\n\nexport const setUserStorage = token => dispatch => {\n  localStorage.setItem(\"jwtToken\", token);\n  setAuthToken(token);\n  const decoded = jwt_decode(token);\n  dispatch(setCurrentUser(decoded));\n}\n\nexport const setCurrentUser = decoded => {\n  return {\n    type: SET_CURRENT_USER,\n    payload: decoded\n  };\n};\n\nexport const setUserLoading = () => {\n  return {\n    type: USER_LOADING\n  };\n};\n\nexport const logoutUser = () => dispatch => {\n  localStorage.removeItem(\"jwtToken\");\n  setAuthToken(false);\n  dispatch(setCurrentUser({}));\n};","import {\n  SET_PICKED_WINE,\n} from \"../actions/types\";\n\nexport const setPickedWine = wineObject => ({type: SET_PICKED_WINE, payload: wineObject})","import React from 'react'\nimport { useDispatch } from 'react-redux'\nimport wineSVG from './wine4.png'\nimport { setPickedWine } from '../../actions/setPickedWine'\n\nconst Card = ({ card, setShowEditModal, cardWidth }) => {\n  const dispatch = useDispatch()\n  const img = card.img ? card.img : wineSVG\n  const {\n    _id,\n    shelf,\n    column,\n    title,\n    country,\n    comment,\n    year,\n    price,\n    rating,\n    vivinoUrl,\n  } = card\n\n  const handleEdit = async () => {\n    dispatch(setPickedWine(card))\n    setShowEditModal({ display: 'flex' })\n  }\n\n  const conditionalRender = element => element || '-'\n\n  const conditionalRenderURL = element => {\n    if (!element) {\n      return <a className='card__info-paragraph card__vivino-url'> - </a>\n    }\n    return (\n      <a\n        target='_blank'\n        rel='noreferrer'\n        href={vivinoUrl}\n        className='card__info-paragraph card__vivino-url'>\n        vivino &#x203A;\n      </a>\n    )\n  }\n\n  const limitTextLength = text => {\n    if (text?.length > 12) {\n      return `${text.slice(0, 12)}...`\n    }\n    return text\n  }\n\n  return (\n    <figure\n      className='card'\n      id={_id}\n      style={{ width: `calc(${cardWidth}% - 20px)` }}>\n      <header className='card-header'>\n        <p className='card-header__position'>{`${shelf + 1}:${column + 1}`}</p>\n        <button className='edit-card__button' onClick={handleEdit}>\n          &#8942;\n        </button>\n      </header>\n      <img className='card__img' alt='wine bottle' src={img}></img>\n      <div className='card__text-container'>\n        <h1 className='card__title'>{title}</h1>\n        <p className='card__country-paragraph'>{conditionalRender(country)}</p>\n        <p className='card__comment'>{limitTextLength(comment)}</p>\n        <footer className='card__footer'>\n        <span className='card__separaion-span'></span>\n          <p className='card__info-paragraph'>{conditionalRender(year)}</p>\n          <p className='card__info-paragraph'>{conditionalRender(price)} kr</p>\n          <p className='card__info-paragraph'>\n            {conditionalRender(rating)}&#9733;\n          </p>\n          {conditionalRenderURL(vivinoUrl)}\n        </footer>\n      </div>\n    </figure>\n  )\n}\n\nexport default Card\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIABAMAAAAGVsnJAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAodEVYdHN2ZzpiYXNlLXVyaQBmaWxlOi8vL3RtcC9tYWdpY2stTlhETDlVN0bkXpJTAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE2LTEyLTI2VDE3OjE0OjA3KzAwOjAwAhXffQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNi0xMi0yNlQxNzoxNDowNyswMDowMHNIZ8EAAAAJcEhZcwAAAEgAAABIAEbJaz4AAAAbUExURUdwTCgnJycnJygmJignJycmJicmJicmJignJ74M/NYAAAAIdFJOUwD8qMLdKYBXX41qAwAACpZJREFUeNrt3c9z2zYaBmCubJrXchvHOKaZrKtjp920Oiqdcaqj1HZbHTPp1NFR6cYZX2HLDv7sSrKTSiQoAmTTUO/7foeknfZAPAKBDyB+JIlCoVAoFAqFQqFQKBQKhUKhUCi6Ednj0/OLMW/xf3vmjHUPvr3gLP8fI2fzZTiXf8lY/jfLgrt15Mb9wFf+H611HyJ3T9nKn45ytxG5nZMBTKzbCnPCVgHMNoBdcPWGvUIFWMYjrjegVH77jgqgb0oAV1QAI1euAkyNQFYuvzNMHeGR9QC84O4EnHnEDvAVEcCBD2AoAAEIQAACEIAABCAAAQhAAAIQgAAEIAABCEAAAhCAAAQgAAEIQAACEIAABCAAAQhAAAIQgAAEIAABCEAAAhCAAAQgAAEIQAACEIAABCAAAexd9FQDyDdP9wQgAAEIQAACEIAABKBjdDQWoAQ49AA4KgBP+d0ZEcC/fADHRAATH8ANEcDUU36qQ0Uv6QGMB+CWCGDmA2A6VrbvA7gmAhj4ABZEACNfN0h0sHBqfACOByDzDQWYTlY+8gM8op4PoZoR8Q4GneUZDU39ADy58MzbCxDlwgM/AE0qWJEG8CQC/jSA6IaBXhUASz84qXgDaCbFZhVtAE03MKhqBEkGxFnVG8AyHKpqA2lawWllDSBJhvumEoAiF0zdjmBoBA7sDoAhAcClqS4/QyaQjna9AgQzw71dbwDDvOCuN4DhHdj9Bjibj6nfAIJkcGZ2A6B/I85cXYAPiCa1AA76CurShdO+SQHkZvDA1tcA6PWCg/oKAD0k7IVUAOSesG9CAHB7wqOgCgA8IJiZMADUKhBaAWCrQGgFQK0C4RXAWcgqEF4BMKcFIirAKl6QzQThV4EsrgLgLZaYuMgAGxWHjIO3A2xy8MDG1gCDNSrux1YAsGQoi64AYM3gJL78ziI1gwPTAABoxdBRgzcA6h1o8gYs4x31G4A0O5rZZjUA5h04dA0DJReamWblRxkS1iwJwF8wc2SbAoDMjP3ctPwuP6ZuAmAagcZNAMin8sw2B4DIBA7aAHzFOxDAGQ40bwNBpoVGLQAQdhGlbd4AhEVzR7YVwP7ngoetAAB2ULTqBBC6gcs2bSBCMtxvB7D/02KtekGAfrBdLwiwkS5r1wns/3DoqC3AvicCB20B9n08eNi2Ddj3qfFJW4B9P1Zj2hZg31PBdokgQCo4E0BLgH2fE+oLoCXAtQD2OwZtARYCEAA3gBpBAQhAAAIQgAAEIAABCEAAAhCAAAQgAAEI4JNEer6Oly8fr+KbZfx39cc36389PV3/x7dzYICetfn6gfLVX+s/3v+d5+b+n2+AAQ6XJa+NW2CAkIUOvg+ZMABBCx0WwABhBRnjAgR94fFsb0ABSIPK4VnViAKQNT0OFQUgcMXrMSxA2IpXzzU5KABhK149a9pQAC6bPi0MQFg5FrAAoeUYowIE7vwpZ0IgAGlgMcqZEAhA6M4fMwQFCN75cwwK0AsEKGdCIAChO3/KmRAIQOjGl/KcEAhA6MaX8sJWEIDgfR+l079AAIJX/JYyIQyA8PPgSlt9QQCCn7eUCmIARGwBH0IC9MIBjiEBwreAl1JBDIDwLeClVBADYBr+vFeQABE7oBeQABEbgIsXQ2AARGz9KqaCGACj8AcupoIQAGlEIYqpIARAzFlAxe+jEABRZwEdAwJEZMLO3gACxJyJWMyFIQBizgIq5sIQAFPT/IEhAKLOAloAAkQVojAtCgEQdQiCneMBjGKeuJALIwCkUWUo5MIQAFFPXMiFEQAiT8UcsgMcwwHEHQtayIURAOKOBQUEiDsWtDAYQACYtnliBIDIS7MXcACRp2JuX46EABBbBjiA2APh5mgAo7hH3h4NAQCkkUXYHg0hADhygNgrEraHgwAAsVck2M/IAbaHgwAAsXdEbN8azwjwDgwg9pKM7eEgAMCEHWAa+8hXYACXrR4ZASC2CAswgOhLMrYmBBgBLBhAfBHYAQwYQPQNAVuLRQWw/wAjAQhAAGoEBSAAXgD6TJB+LBA9GszZAdDmA2JnhCzajNC01SMzToujzQrTfxiJvj8e7dsg/dfh2AUSdggGQL9GiH6VmBZK0q8VnrTIg7RjBAEgY980Rb9vMLIQYzyAmG4Acvv8YfM2kPAQlSEgAP1BSjpLjP48wYhG4AwSIPwTOei5wuFHa18nmAA99vsFQo+WLh0sTXbNDvA9Q2H9gMW9a4z+vsHkZ9sgC0ICSE19STz3LQLdPP262bPiAGS1VcBz3yTU3eOvbZNHBQKoqwK+FgDr9vndHYG5TdABkn6+40HtHB9gx0tgzdMEHyD5yVUVxzxMGACSNxXNgLkacwCkfev/JD5POACSzDc5Zt1/EhaApGfLJTInCQ+AJyG012MmgLT0EvhTQFiA5KdiFXiYcAEUJ4fsnA2gMEd+krABbFeB3RUAE2Bz2Vj5pmECgM3PJOVPIQQAGyfr1D4fJsDGZ5IzSoC/mkEz5wSY+BcG8wB8SAWOSQHer57dOQxABni/biwfswJMApsAWID7RuCGFiCr/hrIAXC3erYuD0YGWBfMjnkBVqumQh4OFmBSsSSGBmA1J1A3FwANsB4QHhMDrPfSDYkB0qCRADKACUoDcAFWmRA3wMDUTwdBA6xKNhYAMcDMhAwFsAFydoAH7AALAQhAANwAiQAEIAABCEAAAhAAI8ClaoAA9AqoBghAAAIQgKbEBCAAVgCrGsAM0FcNIP86rBUiAiAHGJi6fdP4ANzL5Eb0AE4A1Etl6RdLC8CQ7xfI2DdMrLbMBGwcBQcYEgMcsW+a6rFvm1sfpnTDDsC8c3R19RD11ln6zdPr7fNX7ADM5wesz9FZEAPcnSY25gUYrZ4uYEoIFeDuLC3iU2Tu7iIOGA+jAtwfqTikBThgP0rr/jC1W1qAu9vnAlLBWVuAq24C3P+wOS3A6O7x8nlYVWkBcNvJ8mf3j1ffD166lgDvOgnw4VDVYVhr2SJuOgkwCf59DtsCnHUS4H3TVt9J9Wy78od8e/h0beAy6lrBrC3Aiy6W/6+zxWu/jaQte4GQdUifrgkI6aUG7QQWnXwDNgpVu1CqXSbUzTRgs2GzZ8G1BacX3Bzg2LoV0+26gU52AtsXDZmTmlawXScw7175f9m+dtG678YfrRXs4EVbb5+YQp229vNX44/UCHRtJJC+fGZd6Z3Ol53VtxcfpREIWYTzDxb/t1GeW0+FtkuC/Psqgs1LeWIjZEfCP/frj6zLq97n3OT2+cXfPSXQpSzgj9G6ru/4sczyRRj/ve9AdzrB7InN89r66uznv3uHTg2rgF105Q34ZeRsSCFyl3/n6wcaVgF70pHy/9/YwN9w+f8999Qfs99ZUM9G/IK5bwrntd3rJKCfx/yCuWc3Yd3F9f7yu45UgGS2KlZgLP9XX/bapAqYrrQAywToWfhjP/h67k2GzP52Aavn//Xt+fnjujg9PX91UfHUPRcpYPOnCVS8sVEC1jzEKn+SfhFTB2z1dfb7K9B3eXhfej1P4GJZB2wemE39G7D8q97EhPSnxtnn4wQzfn0S0A7Y739PcON/b1/W9KWvLhKFQqFQKBQKhUKhUCgUCoVCoVA0jj8BY5Q0BVomfUgAAAAASUVORK5CYII=\"","import React from 'react';\nimport Card from '../card/Card.js';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setPickedWine } from '../../actions/setPickedWine';\n\nconst WineGrid = props => {\n  const dispatch = useDispatch();\n  const wineArr = useSelector(state => state.wineArr);\n  const pickedWine = useSelector(state => state.pickedWine);\n  const { user } = useSelector(state => state.auth);\n  const cardArr = props.searchValue ? props.searchArr : wineArr;\n  const cardWidth = (100 / user.columns);\n\n  const createButton = (i, j) => {\n    return (\n      <div \n        key={`${i}:${j}`}\n        className=\"add-wine__div\"\n        id={`${i}:${j}`}\n        style={{width: `calc(${cardWidth}% - 20px)`}} >\n        <div className='card-header'>\n          <p className='card-header__position--dark'>{`${i + 1}:${j + 1}`}</p>\n        </div>\n        <button \n          onClick={handleClick}>\n          &#43;\n        </button>\n      </div>\n    );\n  };\n\n  const createCard = (card) => {\n    return (\n      <Card\n        key={card._id}\n        card={card}\n        cardWidth={cardWidth}\n        setShowEditModal={props.setShowEditModal}\n      />\n    );\n  };\n\n  const orderCards = (cardArr, target, i, j) => {\n    let check = false;\n    cardArr?.forEach( card => {\n      if(`${card.shelf}:${card.column}` === `${i}:${j}`) {\n        check = true;\n        target.push(createCard(card));\n      }\n    });\n    if (!check && !props.searchValue) return target.push(createButton(i, j));\n  };\n\n  const renderCards = (cardArr) => {\n    const shelves = [];\n    for (let i = 0; i < user.shelves; i ++) {\n      const columns = []\n      for (let j = 0; j < user.columns; j++) {\n        orderCards(cardArr, columns, i, j)\n      }\n      shelves.push(columns)\n    }\n    return shelves.map((shelf, i) => {\n      return (\n        <div className='wine-row' key={i}>\n          {shelf}\n        </div>\n      )\n    });\n  }\n\n  const breakOutXY = string => {\n    const arr = string.split(':');\n    return {\n      shelf: parseInt(arr[0]),\n      column: parseInt(arr[1]),\n    };\n  };\n\n  const handleClick = e => {\n    props.setShowAddModal({display: 'flex'});\n    dispatch(setPickedWine({...pickedWine, ...breakOutXY(e.target.parentElement.id)}));\n  };\n\n  return (\n    <div className='wineGrid'>\n      {renderCards(cardArr)}\n    </div>\n  )\n}\n\nexport default WineGrid;","import {\n  SET_WINE_ARR,\n  UPDATE_WINE,\n  DELETE_WINE,\n} from \"../actions/types\";\n\nexport const setWineArr = cardArr => ({ type: SET_WINE_ARR, payload: cardArr })\n\nexport const updateWine = newWine => ({type: UPDATE_WINE, payload: newWine})\n\nexport const deleteWine = targetWine => ({type: DELETE_WINE, payload: targetWine})\n","import React, { useState, useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { deleteWine } from '../../actions/wineActions';\nimport axios from 'axios';\n\nconst DeleteButton = ({ buttonName, areYouSure, setAreYouSure, setShowEditModal, saveOrClearForm }) => {\n  const [showDelete, setShowDelete] = useState('none');\n\n  const dispatch = useDispatch();\n  const { user } = useSelector(state => state.auth);\n  const { _id } = useSelector(state => state.pickedWine);\n\n  const handleShowDelete = () => {\n    if (buttonName === 'Change Wine') {\n      setShowDelete('grid');\n    } else {\n      setShowDelete('none');\n    }\n  };\n\n  const handleRemove = async e => {\n    try {\n      dispatch(deleteWine(_id));\n      setShowEditModal({ display: 'none' });\n      handleAreYouSure();\n      await axios.delete('/wines', {data: { _id }});\n      await axios.delete('/users/deleteWine', {data: { email: user.email, _id }});\n      saveOrClearForm();\n    } catch (err) {\n      alert('A server error occured.', err);\n      console.error(err)\n    }\n  };\n\n  const handleAreYouSure = () => setAreYouSure(!areYouSure);\n\n  useEffect(() => {\n    handleShowDelete();\n  });\n\n  return (\n    <div className='delete-button-container' style={{display: showDelete}}>\n      <button\n        type='button'\n        onClick={handleAreYouSure}\n        className='btn--enforced btn--form-delete'\n        style={{display: areYouSure ? 'none' : 'block'}}>\n          Delete Wine\n      </button>\n      {areYouSure\n      ? (\n      <>\n        <p className='confirm-delete__p'>Are you sure you want to delete this wine?</p>\n        <button type='button' className='btn--enforced btn-delete--yes' onClick={handleRemove}>yes</button>\n        <button type='button' className='flat-button--border btn-delete--no' onClick={handleAreYouSure}>no</button>\n      </>\n      )\n      : ''\n      }\n\n    </div>\n  )\n}\n\nexport default DeleteButton\n","import React, { useEffect, useState, useRef } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport DeleteButton from './DeleteButton'\nimport { setPickedWine } from '../../actions/setPickedWine'\nimport { setKeepForm } from '../../actions/setKeepForm'\n\nconst WineForm = props => {\n  const dispatch = useDispatch()\n  const titleInput = useRef(null)\n  const yearInput = useRef(null)\n  const [areYouSure, setAreYouSure] = useState(false)\n  const pickedWine = useSelector(state => state.pickedWine)\n  const { column, shelf } = pickedWine\n  const keepForm = useSelector(state => state.keepForm)\n  const initialState = { title: '', year: '', price: '', comment: '' }\n  const [inputValue, setInputValue] = useState(initialState)\n\n  // pickedWine.price = isNaN(pickedWine.price) ? '' : pickedWine.price;\n\n  const isValidateInput = () => {\n    if (!inputValue.title) {\n      return { isValid: false, input: titleInput }\n    }\n    if (isNaN(inputValue.year)) {\n      return { isValid: false, input: yearInput }\n    }\n    return { isValid: true }\n  }\n\n  const saveOrClearForm = () => {\n    if (!keepForm) {\n      setInputValue(initialState)\n      dispatch(setPickedWine(initialState))\n    }\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault()\n    const { isValid, input } = isValidateInput()\n    if (!isValid) {\n      return input.current.focus()\n    }\n    props.method({\n      ...pickedWine,\n      ...inputValue,\n      column,\n      shelf,\n    })\n    props.show({ display: 'none' })\n    setAreYouSure(false)\n    saveOrClearForm()\n  }\n\n  const handleInputValueChange = e => {\n    const name = e.target.name\n    setInputValue({\n      ...inputValue,\n      [name]: e.target.value,\n    })\n  }\n\n  const handleCheckedKeepForm = () => {\n    dispatch(setKeepForm(!keepForm))\n  }\n\n  const cancel = () => {\n    saveOrClearForm()\n    setAreYouSure(false)\n    props.show({ display: 'none' })\n  }\n\n  const focus = () => {\n    titleInput.current.focus()\n  }\n\n  useEffect(() => setInputValue({ ...pickedWine }), [pickedWine])\n\n  useEffect(() => {\n    focus()\n  }, [])\n\n  return (\n    <form onSubmit={handleSubmit} className='wineForm'>\n      <button type='button' onClick={cancel} className='cancelButton'>\n        &#10005;\n      </button>\n      <input\n        ref={titleInput}\n        value={inputValue.title || ''}\n        onChange={handleInputValueChange}\n        name='title'\n        type='text'\n        placeholder='Name'\n      />\n      <input\n        ref={yearInput}\n        value={inputValue.year || ''}\n        onChange={handleInputValueChange}\n        name='year'\n        type='text'\n        placeholder='Year'\n      />\n      <input\n        value={inputValue.price || ''}\n        onChange={handleInputValueChange}\n        name='price'\n        type='text'\n        placeholder='What did you pay?'\n      />\n      <textarea\n        value={inputValue.comment || ''}\n        onChange={handleInputValueChange}\n        name='comment'\n        placeholder='comment'></textarea>\n      <button\n        type='submit'\n        className='btn--enforced btn--form-submit'\n        style={{ display: areYouSure ? 'none' : 'block' }}>\n        {props.buttonName}\n      </button>\n      <DeleteButton\n        buttonName={props.buttonName}\n        areYouSure={areYouSure}\n        setAreYouSure={setAreYouSure}\n        setShowEditModal={props.setShowEditModal}\n        saveOrClearForm={saveOrClearForm}\n      />\n      <div className='save-form'>\n        <input\n          value={keepForm}\n          onChange={handleCheckedKeepForm}\n          type='checkbox'\n          className={`save-form__checkbox ${keepForm}`}></input>\n        <label htmlFor='saveForm'>keep form info</label>\n      </div>\n    </form>\n  )\n}\n\nexport default WineForm\n","import {\n  KEEP_FORM,\n} from \"./types\";\n\nexport const setKeepForm = (boolean) => ({type: KEEP_FORM, payload: boolean})","import React from 'react';\nimport axios from 'axios';\nimport WineForm from './WineForm';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { setWineArr } from '../../actions/wineActions';\nimport { setUserStorage } from '../../actions/authActions';\n\nconst AddWine = props => {\n  const dispatch = useDispatch();\n  const wineArr = useSelector(state => state.wineArr);\n  const pickedWine = useSelector(state => state.pickedWine)\n  const { shelf, column } = pickedWine;\n  const { user } = useSelector(state => state.auth);\n\n  const postData = async (data) => {\n    try {\n      dispatch(setWineArr([...wineArr, { shelf, column, country: 'loading...'}]));\n      const newWine = await axios.post('/wines', data);\n      dispatch(setWineArr([...wineArr, newWine.data]));\n      const updateUser = await axios.post('/users/addWine', { _id: newWine.data._id, email: user.email });\n      const { token } = updateUser.data;\n      dispatch(setUserStorage(token));\n    } catch(err) {\n      alert('A server error occured:', err.message);\n    };\n  };\n\n  return (\n    <div className='wineModal' style={props.showAddModal}>\n      <WineForm \n        method={postData}\n        buttonName='Add Wine'\n        show={props.setShowAddModal}\n      />\n    </div>\n  )\n}\n\nexport default AddWine;","import React from 'react';\nimport axios from 'axios';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { updateWine } from '../../actions/wineActions';\nimport WineForm from './WineForm';\n\nconst EditWine = props => {\n  const dispatch = useDispatch();\n  const { user } = useSelector(state => state.auth)\n\n  const editData = async (data) => {\n    try {\n      const newWine = await axios.put('/wines', data);\n      dispatch(updateWine(newWine.data))\n      await axios.post('/users/addWine', { _id: newWine.data._id, email: user.email });\n    } catch(err) {\n      alert('A server error occured.', err);\n      console.error(err)\n    };\n  };\n\n  return (\n    <div className='wineModal' style={props.showEditModal}>\n      <WineForm\n        method={editData}\n        buttonName='Change Wine'\n        show={props.setShowEditModal}\n        setShowEditModal={props.setShowEditModal}\n      />\n    </div>\n  )\n}\n\nexport default EditWine;","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux';\n\nconst MainHeader = ({ setSearchArr, searchValue, setSearchValue }) => {\n  const wineArr = useSelector(state => state.wineArr);\n  \n  const handleChange = e => {\n    setSearchValue(e.target.value);\n  }\n\n  const searchableValues = arr => (\n    arr[0] === 'title' ||\n    arr[0] === 'year' ||\n    arr[0] === 'country' ||\n    arr[0] === 'price' ||\n    arr[0] === 'rating'\n    ? arr[1]\n    : ''\n  );\n\n  const searchNumber = string => parseInt(string.match(/[0-9]+/)?.[0]);\n\n  useEffect(() => {\n    const handleSearch = () => {\n      const newArr = wineArr\n        ?.filter(card => Object.entries(card)\n          .map(searchableValues) \n          .join('')\n          .toLowerCase()\n          .match(searchValue\n            .toLowerCase()));\n      setSearchArr(newArr);\n    };\n    handleSearch();\n  }, [searchValue, setSearchArr, wineArr]);\n\n  useEffect(() => {\n    const filterRating = () => {\n      if(searchValue?.match(/rating/i)) {\n        const ratingMatch = wineArr?.filter(wine => parseInt(wine.rating) >= searchNumber(searchValue))\n        setSearchArr(ratingMatch)\n      }\n    }\n    filterRating();\n  }, [searchValue, setSearchArr, wineArr])\n\n  useEffect(() => {\n    const filterPrice = () => {\n      if(searchValue?.match(/kr/i)) {\n        const numberMatch = wineArr?.filter(wine => parseInt(wine.price) <= searchNumber(searchValue))\n        setSearchArr(numberMatch)\n      }\n    }\n    filterPrice();\n  }, [searchValue, setSearchArr, wineArr])\n\n  return (\n    <div className=\"main-header\">\n      <input\n        type=\"text\"\n        onChange={handleChange}\n        value={searchValue}\n        className=\"search\"\n        placeholder='search'>\n      </input>\n    </div>\n  )\n}\n\nexport default MainHeader\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { setCurrentUser } from '../../actions/authActions';\n\nconst LogOutButton = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const handleLogOut = () => {\n    dispatch(setCurrentUser({}));\n    localStorage.removeItem(\"jwtToken\");\n    history.push('/')\n  }\n\n  return (\n    <div className='logout-container'>\n      <button className='logout-button' onClick={handleLogOut}>\n        <p>log out</p>\n      </button>\n    </div>\n  )\n}\n\nexport default LogOutButton\n","import axios from 'axios';\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector} from 'react-redux';\nimport { setUserStorage } from '../../actions/authActions';\n\nconst InitialSetup = ({ setShowSettings }) => {\n  const { user } = useSelector(state => state.auth);\n  const [inputValue, setInputValue] = useState({\n    columns: user.columns,\n    shelves: user.shelves,\n  })\n  const [error, setError] = useState(false);\n  const dispatch = useDispatch();\n\n  const handleChange = e => {\n    const { name } = e.target;\n    setInputValue({\n      ...inputValue,\n      [name]: e.target.value,\n    })\n  }\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if(!inputValue.columns || !inputValue.shelves) {\n      setError(true)\n    } else {\n      setError(false)\n      const updatedUser = await axios.post('/users/addStorage',\n      {\n        columns: inputValue.columns,\n        shelves: inputValue.shelves,\n        email: user.email\n      })\n      const { token } = updatedUser.data;\n      setShowSettings(false);\n      dispatch(setUserStorage(token))\n    }\n  }\n\n  return (\n    <div className='initial-setup__container'>\n      <form className='initial-setup__form' onSubmit={handleSubmit}>\n        {error ? <p>columns and shelves need to be grater than zero</p> : ''}\n        <label>How many columns do you have?</label>\n        <input\n          name='columns'\n          className='initial-setup__input'\n          type='number'\n          placeholder={user.columns}\n          value={ inputValue.column }\n          onChange={handleChange}>\n        </input>\n        <label>How many shelves do you have?</label>\n        <input\n          name='shelves'\n          className='initial-setup__input'\n          type='number'\n          placeholder={user.shelves}\n          value={ inputValue.shelf }\n          onChange={handleChange}>\n        </input>\n        <p className='initial-setup__p'>You can change this whenever you want.</p>\n        <button type='submit' className='initial-setup__button--confirm btn--enforced'>confirm</button>\n      </form>\n    </div>\n  )\n}\n\nexport default InitialSetup\n","import React, { useEffect, useState } from 'react'\nimport LogOutButton from './LogOutButton'\nimport InitialSetup from './InitialSetup'\nimport { useSelector } from 'react-redux'\nimport './settings.css'\n\nconst Settings = ({ showSettings, setShowSettings }) => {\n  const [totalPrice, setTotalPrice] = useState(0)\n  const wineArr = useSelector(state => state.wineArr)\n  const { user } = useSelector(state => state.auth)\n  const leftMargin = showSettings ? null : '-400px'\n\n  const extractPrice = wine => {\n    if (!wine.price || isNaN(wine.price)) {\n      return 0\n    }\n    return parseInt(wine.price)\n  }\n\n  const priceReducer = (acc, curr) => acc + parseInt(curr)\n\n  useEffect(() => {\n    const totalPrice = wineArr.map(extractPrice).reduce(priceReducer, 0)\n    setTotalPrice(totalPrice)\n  }, [wineArr])\n\n  return (\n    <div className='settings-container' style={{ right: leftMargin }}>\n      <h2>{user.name}</h2>\n      <LogOutButton />\n      <div className='settings__price-container'>\n        <p className='settings__price-p'>Total price for this storage:</p>\n        <p>{totalPrice} kr</p>\n      </div>\n      <InitialSetup setShowSettings={setShowSettings} />\n    </div>\n  )\n}\n\nexport default Settings\n","import React, { useState, useEffect } from 'react';\nimport '../../hamburger.css';\n\nconst Hamburger = ({ showSettings, setShowSettings }) => {\n  const [isOpen, setIsOpen] = useState('hamburger--closed');\n\n  const toggleSettings = () => {\n    setShowSettings(!showSettings);\n  }\n\n  useEffect(() => {\n    showSettings\n    ? setIsOpen('hamburger--open')\n    : setIsOpen('hamburger--closed');\n  }, [showSettings]);\n\n  return (\n    <>\n      <button className='hamburger' onClick={toggleSettings}>\n        <div id='nav-icon2' className={`hamburger ${isOpen}`}>\n          <span></span>\n          <span></span>\n          <span></span>\n          <span></span>\n          <span></span>\n          <span></span>\n        </div>\n      </button>\n    </>\n  );\n}\n\nexport default Hamburger;\n","import { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport WineGrid from '../wineGrid/WineGrid';\nimport AddWine from '../wineForm/AddWine';\nimport EditWine from '../wineForm/EditWine';\nimport MainHeader from '../header/MainHeader';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { setWineArr } from '../../actions/wineActions'\nimport Settings from '../header/Settings';\nimport InitialSetup from '../header/InitialSetup';\nimport Hamburger from '../header/Hamburger';\nimport '../../App.css';\n\nconst Dashboard = () => {\n  const [updateOnPost, setUpdateOnPost] = useState(0);\n  const [showAddModal, setShowAddModal] = useState({display: 'none'});\n  const [showEditModal, setShowEditModal] = useState({display: 'none'});\n  const [searchArr, setSearchArr] = useState([]);\n  const [searchValue, setSearchValue] = useState('');\n  const [showSettings, setShowSettings] = useState(false);\n\n  const { isAuthenticated, user } = useSelector(state => state.auth);\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  useEffect(() => {\n    const getWines = async () => {\n      try {\n        const response = await axios.post('/wines/getUserWines', { wineList: user.wineList });\n        const data = response.data;\n        dispatch(setWineArr(data));\n      } catch (err) {\n        console.error(err, 'getWines error');\n      }\n    }\n    getWines();\n  }, [dispatch, user.wineList]);\n\n  useEffect(() => {\n    if (!isAuthenticated) {\n      history.push(\"/login\");\n    }\n  });\n\n  if (!user.columns || !user.shelves) {\n    return <InitialSetup setShowSettings={setShowSettings} />\n  } else {\n    return (\n      <div className=\"dashboard\">\n        <Hamburger showSettings={showSettings} setShowSettings={setShowSettings} />\n        <Settings showSettings={showSettings} setShowSettings={setShowSettings} />\n        <MainHeader\n          setSearchArr={setSearchArr}\n          searchValue={searchValue}\n          setSearchValue={setSearchValue} />\n        <h1 className=\"header\">This is the wine we whine about</h1>\n        <AddWine\n          updateOnPost={updateOnPost}\n          setUpdateOnPost={setUpdateOnPost}\n          showAddModal={showAddModal}\n          setShowAddModal={setShowAddModal}\n        />\n        <EditWine\n          showEditModal={showEditModal}\n          setShowEditModal={setShowEditModal}\n          updateOnPost={updateOnPost}\n          setUpdateOnPost={setUpdateOnPost}\n        />\n        <WineGrid\n          updateOnPost={updateOnPost}\n          setUpdateOnPost={setUpdateOnPost}\n          showAddModal={showAddModal}\n          setShowAddModal={setShowAddModal}\n          showEditModal={showEditModal}\n          setShowEditModal={setShowEditModal}\n          searchArr={searchArr}\n          searchValue={searchValue}\n        />\n      </div>\n    )\n  }\n}\n\nexport default Dashboard;\n","import React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Link, useHistory } from \"react-router-dom\";\n\nconst Landing = () => {\n  const auth = useSelector(state => state.auth.isAuthenticated)\n  const history = useHistory();\n\n  useEffect(() => {\n    if(auth) {\n      history.push('/dashboard');\n    }\n  });\n\n  return (\n    <div className='landing-page'>\n      <h1 className=\"header\">This is the wine we whine about</h1>\n      <div className='landing-page-link-container'>\n        <Link to='/register' className=' landing-page__link landing-page__link--colored'>Register</Link>\n        <Link to='/login' className='landing-page__link'>Log in</Link>\n      </div>\n    </div>\n  );\n}\n\nexport default Landing;\n","import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { registerUser } from \"../../actions/authActions\";\n\nconst Register = props => {\n  const [ inputValue, setInputValue ] = useState({\n    name: '',\n    email: '',\n    password: '',\n    password2: '',\n  });\n  const auth = useSelector(state => state.auth.isAuthenticated)\n  const authError = useSelector(state => state.errorState);\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const handleChange = e => {\n    const name = e.target.name;\n    setInputValue({\n      ...inputValue,\n      [name]: e.target.value,\n    })\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    dispatch(registerUser(inputValue, history))\n  }\n\n  useEffect(() => {\n    if(auth) {\n      history.push('/dashboard')\n    }\n  });\n\n  return (\n    <>\n    <h1 className=\"header\">This is the wine we whine about</h1>\n    <form onSubmit={handleSubmit} className='auth-form'>\n      <input\n        className='auth-form__input'\n        onChange={handleChange}\n        name='name' value={inputValue.name}\n        placeholder='name'>\n      </input>\n      {authError.email ? <p className='form__error-p'>{ authError.email }</p> : ''}\n      <input\n        className='auth-form__input'\n        onChange={handleChange}\n        name='email'\n        value={inputValue.email}\n        placeholder='email'>\n      </input>\n      {authError.password ? <p className='form__error-p'>{ authError.password }</p> : ''}\n      <input\n        className='auth-form__input'\n        onChange={handleChange}\n        name='password'\n        value={inputValue.password}\n        placeholder='password'\n        type='password'>\n      </input>\n      {authError.password2 ? <p className='form__error-p'>{ authError.password2 }</p> : ''}\n      <input\n        className='auth-form__input'\n        onChange={handleChange}\n        name='password2'\n        value={inputValue.password2}\n        placeholder='repeat password'\n        type='password'>\n      </input>\n      <button\n        className='auth-form__submit-button btn--enforced'\n        type=\"submit\">\n          register\n      </button>\n    </form>\n    </>\n  )\n}\n\nexport default Register;","import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { loginUser } from \"../../actions/authActions\";\nimport './auth.css'\n\nconst Login = props => {\n  const [ inputValue, setInputValue ] = useState({\n    email: '',\n    password: '',\n  });\n  const history = useHistory();\n  const auth = useSelector(state => state.auth.isAuthenticated)\n  const authError = useSelector(state => state.errorState);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if(auth) {\n      history.push('/dashboard')\n    }\n  });\n\n  const handleChange = e => {\n    const name = e.target.name;\n    setInputValue({\n      ...inputValue,\n      [name]: e.target.value,\n    })\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    dispatch(loginUser(inputValue))\n    props.history.push('/dashboard')\n  }\n\n  return (\n    <>\n    <h1 className=\"header\">This is the wine we whine about</h1>\n    <form onSubmit={handleSubmit} className='auth-form'>\n      {authError.email ? <p className='form__error-p'>{ authError.email }</p> : <p></p>}\n      <input\n        className='auth-form__input'\n        onChange={handleChange} name='email'\n        value={inputValue.email}\n        placeholder='email'>\n      </input>\n      {authError.password ? <p className='form__error-p'>{ authError.password }</p> : <p></p>}\n      <input\n        className='auth-form__input'\n        onChange={handleChange}\n        name='password'\n        value={inputValue.password}\n        placeholder='password'\n        type=\"password\"></input>\n      <button className='auth-form__submit-button btn--enforced' type=\"submit\">log in</button>\n    </form>\n    </>\n  )\n}\n\nexport default Login;","import React from 'react'\nimport { BrowserRouter, Route, useHistory } from \"react-router-dom\";\nimport { useDispatch } from 'react-redux';\nimport jwt_decode from \"jwt-decode\";\nimport setAuthToken from \"./utils/setAuthToken\";\nimport { setCurrentUser, logoutUser } from \"./actions/authActions\";\nimport Dashboard from \"./components/dashboard/Dashboard\";\nimport Landing from \"./components/Landing\";\nimport Register from \"./components/auth/Register\";\nimport Login from \"./components/auth/Login\";\n\nconst App = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  if (localStorage.jwtToken) {\n    const token = localStorage.jwtToken;\n    setAuthToken(token);\n    const decoded = jwt_decode(token);\n    dispatch(setCurrentUser(decoded));\n\n    const currentTime = Date.now() / 1000;\n    if (decoded.exp < currentTime) {\n      dispatch(logoutUser());\n      history.push(\"/login\");\n    }\n  }\n\n  return (\n    <BrowserRouter>\n      <div className=\"App\">\n        <Route exact path=\"/\" component={Landing} />\n        <Route path=\"/register\" component={Register} />\n        <Route path=\"/login\" component={Login} />\n        <Route path=\"/dashboard\" component={Dashboard} />\n      </div>\n    </BrowserRouter>\n  )\n};\n\nexport default App;\n","import {\n  SET_CURRENT_USER,\n  USER_LOADING,\n} from \"../actions/types\";\nconst isEmpty = require(\"is-empty\");\n\nconst initialState = {\n  isAuthenticated: false,\n  user: {},\n  loading: false,\n};\n\nconst authReducers = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_CURRENT_USER:\n      return {\n        ...state,\n        isAuthenticated: !isEmpty(action.payload),\n        user: action.payload\n      };\n    case USER_LOADING:\n      return {\n        ...state,\n        loading: true\n      };\n    default:\n      return state;\n  }\n}\n\nexport default authReducers;","import { GET_ERRORS } from \"../actions/types\";\n\nconst initialState = {};\n\nconst errorReducers = (state = initialState, action) => {\n  switch (action.type) {\n    case GET_ERRORS:\n      return action.payload;\n    default:\n      return state;\n  }\n}\n\nexport default errorReducers;","import {\n  SET_WINE_ARR,\n  UPDATE_WINE,\n  DELETE_WINE,\n} from \"../actions/types\";\n\nconst findAndUpdateTargetWine = (cardArr, newWine) => (\n  cardArr.map(card => card._id !== newWine._id\n    ? card\n    : newWine)\n);\n\nconst deleteWine = (state, deleteCardId) => state.filter(card => card._id !== deleteCardId);\n\nconst initialState = [];\n\nconst wineReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_WINE_ARR:\n      return action.payload;\n    case UPDATE_WINE:\n      return findAndUpdateTargetWine(state, action.payload);\n    case DELETE_WINE:\n      return deleteWine(state, action.payload);\n    default:\n      return state;\n  }\n}\n\nexport default wineReducer;\n","import {\n  SET_PICKED_WINE,\n} from \"../actions/types\";\n\nconst initialState = {};\n\nconst setPickedWine = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_PICKED_WINE:\n      return action.payload;\n    default:\n      return state;\n  }\n}\n\nexport default setPickedWine;","import {\n  KEEP_FORM,\n} from \"../actions/types\";\n\nconst initialState = false;\n\nconst keepForm = (state = initialState, action) => {\n  switch (action.type) {\n    case KEEP_FORM:\n      return action.payload;\n    default:\n      return state;\n  }\n}\n\nexport default keepForm;","import { combineReducers } from \"redux\";\nimport authReducer from \"./authReducers\";\nimport errorReducer from \"./errorReducers\";\nimport wineReducer from './wineReducer'\nimport setPickedWineReducer from './pickedWine';\nimport keepFormReducer from './keepFormReducer';\n\nexport default combineReducers({\n  auth: authReducer,\n  errorState: errorReducer,\n  wineArr: wineReducer,\n  pickedWine: setPickedWineReducer,\n  keepForm: keepFormReducer\n});\n","import { createStore, applyMiddleware, compose } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport rootReducer from \"./reducers\";\n\nconst initialState = {};\nconst enhancers = []\nconst middleware = [thunk];\n\nif (process.env.NODE_ENV === 'development') {\n  const devToolsExtension = window.__REDUX_DEVTOOLS_EXTENSION__; // eslint-disable-line no-underscore-dangle\n  if (typeof devToolsExtension === 'function') {\n    enhancers.push(devToolsExtension());\n  }\n}\n\nconst componsedEnhancers = compose(\n  applyMiddleware(...middleware),\n  ...enhancers\n);\n\nconst store = createStore(\n  rootReducer,\n  initialState,\n  componsedEnhancers,\n);\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './index.css';\nimport App from './App';\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}