{"version":3,"sources":["components/card/Card.js","components/wineGrid/WineGrid.js","components/wineForm/WineForm.js","components/wineForm/AddWine.js","components/wineForm/EditWine.js","App.js","index.js"],"names":["Card","props","id","x","y","handleRemove","e","a","stopPropagation","window","confirm","titleRef","current","innerHTML","axios","delete","data","shelf","row","setUpdateOnPost","updateOnPost","alert","handleEdit","setPosition","setPickedCard","title","country","year","setShowEditModal","display","className","onClick","WineGrid","orderCards","cardArr","target","i","j","check","map","card","push","showEditModal","createCard","handleClick","createButton","setShowAddModal","parentElement","split","renderedCards","renderCards","WineForm","titleInput","useRef","countryInput","yearInput","useEffect","pickedCard","value","preFillForm","focus","onSubmit","preventDefault","isNaN","children","position","method","show","type","htmlFor","ref","buttonName","AddWine","postData","post","style","showAddModal","EditWine","editData","put","App","useState","setCardArr","getWines","get","response","console","error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b2bac409.chunk.js","sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\nconst Card = props => {\n  const id = `${props.x}:${props.y}`;\n\n  const handleRemove = async e => {\n    e.stopPropagation();\n    if (window.confirm(`Do you want to delete ${props.titleRef.current.innerHTML}`)) {\n      try {\n        await axios.delete('/wines', {data: {shelf: props.x, row: props.y}});\n        props.setUpdateOnPost(props.updateOnPost + 1);\n      } catch(err) {\n        alert('A server error occured.', err);\n      }\n    } else {\n      return;\n    };\n  };\n\n  const handleEdit = async e => {\n    props.setPosition([props.x, props.y]);\n    props.setPickedCard({title: props.title, country: props.country, year: props.year});\n    props.setShowEditModal({display: \"flex\"});\n  };\n\n  return (\n    <div className='card' id={id} onClick={handleEdit}>\n      <button className='removeButton' onClick={handleRemove}>&#10005;</button>\n      <p className='cardPosition'>{`${props.x + 1}:${props.y + 1}`}</p>\n      <h1 >{props.title}</h1>\n      <h4 >{props.country}</h4>\n      <p className='wineYear'>{props.year}</p>\n    </div>\n  );\n};\n\nexport default Card;","import React from 'react';\nimport Card from '../card/Card.js';\n\nconst WineGrid = props => {\n  const createButton = (i, j) => {\n    return (\n      <div \n        className=\"showForm\"\n        key={`${i}:${j}`}\n        id={`${i}:${j}`} >\n        <p className='cardPosition'>{`${i + 1}:${j + 1}`}</p>\n        <button \n          onClick={handleClick}>\n          &#43;\n        </button>\n      </div>\n    );\n  };\n\n  const createCard = (card, i, j) => {\n    return (\n      <Card\n        key={`${i}:${j}`}\n        title={card.title}\n        country={card.country}\n        year={card.year}\n        x={card.shelf}\n        y={card.row}\n        setPosition={props.setPosition}\n        updateOnPost={props.updateOnPost}\n        setUpdateOnPost={props.setUpdateOnPost}\n        setShowEditModal={props.setShowEditModal}\n        showEditModal={props.showEditModal}\n        setPickedCard={props.setPickedCard}\n      />\n    );\n  };\n\n  const orderCards = (cardArr, target, i, j) => {\n    let check = false;\n    cardArr?.map( card => {\n      if(`${card.shelf}:${card.row}` === `${i}:${j}`) {\n        check = true;\n        return target.push(createCard(card, i, j));\n      }\n      return null;\n    });\n    if (!check) return target.push(createButton(i, j));\n  }\n\n  const renderCards = () => {\n    const cardArr = props.cardArr;\n    const renderedCards = [];\n    for (let i = 0; i < 15; i ++) {\n      for (let j = 0; j < 8; j++) {\n        orderCards(cardArr, renderedCards, i, j);\n      }\n    }\n    return renderedCards;\n  }\n\n  const breakOutXY = string => {\n    const arr = string.split(':');\n    return arr;\n  };\n\n  const handleClick = e => {\n    props.setShowAddModal({display: 'flex'});\n    props.setPosition(breakOutXY(e.target.parentElement.id));\n  };\n\n  return (\n    <div className='wineGrid'>\n      {renderCards()}\n    </div>\n  )\n}\n\nexport default WineGrid;","import React, { useRef, useEffect } from 'react';\n\nconst WineForm = (props) => {\n  const titleInput = useRef(null);\n  const countryInput = useRef(null);\n  const yearInput = useRef(null);\n\n  const cancel = () => {\n    props.show({display: 'none'});\n  }\n\n  const focus = () => {\n    titleInput.current.focus();\n  };\n\n  const preFillForm = () => {\n    const { title, country, year } = props.pickedCard || '';\n    if (title || country || year) {\n      titleInput.current.value = title || '';\n      countryInput.current.value = country || '';\n      yearInput.current.value = year || '';\n    };\n  };\n  \n  const validate = () => {\n    if (isNaN(yearInput.current.value)) {\n      return false;\n    };\n    return true;\n  };\n\n  const clearForm = () => {\n    titleInput.current.value = '';\n    countryInput.current.value = '';\n    yearInput.current.value = '';\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (validate()) {\n      const data = {};\n      data.title = e.target.children[2].value;\n      data.country = e.target.children[4].value;\n      data.year = e.target.children[6].value;\n      data.shelf = props.position[0];\n      data.row = props.position[1];\n      props.method(data);\n      props.show({display: 'none'});\n      clearForm();\n    } else {\n      alert('The year must be entered as a number.')\n    }\n  }\n\n  useEffect(() => {\n    preFillForm()\n    focus();\n  });\n\n  return (\n    <form onSubmit={handleSubmit} className='wineForm'>\n      <button type='reset' onClick={cancel} className='cancelButton' >&#10005;</button>\n      <label htmlFor='newWineName'>Wine Name</label>\n      <input type='text' id=\"newWineName\" ref={titleInput} />\n      <label htmlFor='newWineCountry'>Country</label>\n      <input type='text' id=\"newWineCountry\" ref={countryInput} />\n      <label htmlFor='newWineDesc'>Year</label>\n      <input type='text' id=\"newWineDesc\" ref={yearInput} />\n      <button type='submit' id=\"editWineButton\">\n        {props.buttonName}\n      </button>\n    </form>\n  )\n}\n\nexport default WineForm;","import React from 'react';\nimport axios from 'axios';\nimport WineForm from './WineForm';\n\nconst AddWine = props => {\n  const postData = async (data) => {\n    try {\n      await axios.post('/wines',\n        data\n      );\n      props.setUpdateOnPost(props.updateOnPost + 1);\n    } catch(err) {\n      alert('A server error occured.', err);\n    };\n  };\n\n  return (\n    <div className='wineModal' style={props.showAddModal}>\n      <WineForm \n        method={postData}\n        buttonName='Add Wine'\n        show={props.setShowAddModal}\n        position={props.position}\n      />\n    </div>\n  )\n}\n\nexport default AddWine;","import React from 'react';\nimport axios from 'axios';\nimport WineForm from './WineForm';\n\nconst EditWine = props => {\n  const editData = async (data) => {\n    try {\n      await axios.put('/wines',\n        data\n      );\n      props.setUpdateOnPost(props.updateOnPost + 1);\n    } catch(err) {\n      alert('A server error occured.', err);\n    };\n  };\n\n  return (\n    <div className='wineModal' style={props.showEditModal}>\n      <WineForm\n        method={editData}\n        buttonName='Change Wine'\n        show={props.setShowEditModal}\n        position={props.position}\n        pickedCard={props.pickedCard}\n      />\n    </div>\n  )\n}\n\nexport default EditWine;","import { useEffect, useState } from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport WineGrid from './components/wineGrid/WineGrid';\nimport AddWine from './components/wineForm/AddWine';\nimport EditWine from './components/wineForm/EditWine';\n\nfunction App() {\n  const [cardArr, setCardArr] = useState();\n  const [position, setPosition] = useState(null);\n  const [updateOnPost, setUpdateOnPost] = useState(0);\n  const [showAddModal, setShowAddModal] = useState({display: 'none'});\n  const [showEditModal, setShowEditModal] = useState({display: 'none'});\n  const [pickedCard, setPickedCard] = useState({});\n\n  const getWines = async () => {\n    try {\n      const response = await axios.get('/wines');\n      const data = await response.data;\n      setCardArr(data);\n    } catch (err) {\n      console.error(err, 'getWines error')\n    }\n  }\n\n  useEffect(() => {\n    getWines();\n  }, [updateOnPost]);\n\n  return (\n    <div className=\"App\">\n      <h1 className=\"header\">This is the wine we whine about</h1>\n      <AddWine\n        setCardArr={setCardArr}\n        position={position}\n        updateOnPost={updateOnPost}\n        setUpdateOnPost={setUpdateOnPost}\n        showAddModal={showAddModal}\n        setShowAddModal={setShowAddModal}\n      />\n      <EditWine\n        showEditModal={showEditModal}\n        setShowEditModal={setShowEditModal}\n        updateOnPost={updateOnPost}\n        setUpdateOnPost={setUpdateOnPost}\n        position={position}\n        pickedCard={pickedCard}\n      />\n      <WineGrid\n        cardArr={cardArr}\n        setCardArr={setCardArr}\n        setPosition={setPosition}\n        updateOnPost={updateOnPost}\n        setUpdateOnPost={setUpdateOnPost}\n        showAddModal={showAddModal}\n        setShowAddModal={setShowAddModal}\n        showEditModal={showEditModal}\n        setShowEditModal={setShowEditModal}\n        setPickedCard={setPickedCard}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}